import{w as D,c as T,S as E,b as B,E as p,f as M,D as P}from"./editable-OBw7MXqz.js";import{w as S}from"./with-history-Bo5zoz4N.js";import{T as V}from"./Toolbar-DItQkW23.js";import{B as c}from"./Button-Bz1s__lT.js";import{d as H,f as y,w as i,e as v,o as w,a,C as m,b as L,T as N,m as O,k as $,h as s}from"./index-cO_khfoC.js";const F=H({__name:"index",setup(A){const x=[{type:"paragraph",children:[{text:"In this example, the document gets rendered into a controlled "},{text:"<iframe>",code:!0},{text:". This is "},{text:"particularly",italic:!0},{text:" useful, when you need to separate the styles for your editor contents from the ones addressing your UI."}]},{type:"paragraph",children:[{text:"This also the only reliable method to preview any "},{text:"media queries",bold:!0},{text:" in your CSS."}]}],b=({attributes:t,children:e,leaf:o})=>{let n=e;return"bold"in o&&(n=s("strong",null,n)),"code"in o&&(n=s("code",null,n)),"italic"in o&&(n=s("em",null,n)),"underline"in o&&(n=s("u",null,n)),s("span",t,n)},r=S(D(T()));r.children=x;const k={"mod+b":"bold","mod+i":"italic","mod+u":"underline","mod+`":"code"},l=t=>{const e=p.marks(r);return e?e[t]===!0:!1},d=t=>{l(t)?p.removeMark(r,t):p.addMark(r,t,!0)},g=t=>{for(const e in k)if(M(e,t)){t.preventDefault();const o=k[e];d(o)}},f=$(),h=t=>{t.target instanceof HTMLIFrameElement&&t.target.contentDocument&&(f.value=t.target.contentDocument.body)},C=()=>P.deselect(r),u=t=>{t.preventDefault()};return(t,e)=>(w(),y(v(E),{editor:v(r),"render-leaf":b},{default:i(()=>[a(V,null,{default:i(()=>[a(c,{active:l("bold"),onClick:e[0]||(e[0]=o=>d("bold")),onPointerdown:u},{default:i(()=>[...e[4]||(e[4]=[m(" format_bold ",-1)])]),_:1},8,["active"]),a(c,{active:l("italic"),onClick:e[1]||(e[1]=o=>d("italic")),onPointerdown:u},{default:i(()=>[...e[5]||(e[5]=[m(" format_italic ",-1)])]),_:1},8,["active"]),a(c,{active:l("underline"),onClick:e[2]||(e[2]=o=>d("underline")),onPointerdown:u},{default:i(()=>[...e[6]||(e[6]=[m(" format_underlined ",-1)])]),_:1},8,["active"]),a(c,{active:l("code"),onClick:e[3]||(e[3]=o=>d("code")),onPointerdown:u},{default:i(()=>[...e[7]||(e[7]=[m(" code ",-1)])]),_:1},8,["active"])]),_:1}),L("iframe",{srcdoc:"<!DOCTYPE html>",onLoad:h,onBlur:C},[f.value?(w(),y(N,{key:0,to:f.value},[a(v(B),{placeholder:"Enter some rich textâ€¦",spellcheck:"",onKeydown:g})],8,["to"])):O("",!0)],32)]),_:1},8,["editor"]))}});export{F as default};
