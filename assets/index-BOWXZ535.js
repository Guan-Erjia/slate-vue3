import{u as y,d as _,D as x,T as k,R as w,E as d,N as p,e as g,w as b,c as E,S as C,b as S}from"./editable-OBw7MXqz.js";import{u as v}from"./use-inherit-ref-lmEEbD6_.js";import{d as u,o as f,c as B,b as h,g as N,z as D,e as l,q as O,f as P,w as R,a as T,h as m}from"./index-cO_khfoC.js";import{w as V}from"./with-history-Bo5zoz4N.js";const q={style:{display:"flex","flex-direction":"row","align-items":"center"}},z={contenteditable:!1,style:{"margin-right":"12px"}},I=["checked"],L=["contenteditable"],M=u({__name:"CheckListsItem",props:{element:{}},setup(e){const n=e,o=y(),c=_(),t=O(()=>n.element.checked),s=a=>{const r=x.findPath(o,n.element),i={checked:a.target.checked};k.setNodes(o,i,{at:r})};return(a,r)=>(f(),B("div",q,[h("span",z,[h("input",{type:"checkbox",checked:t.value,onChange:s},null,40,I)]),h("span",{contenteditable:!l(c),style:D([{flex:"1"},{opacity:t.value?.666:1,textDecoration:t.value?"line-through":"none"}])},[N(a.$slots,"default")],12,L)]))}}),$=e=>{const{deleteBackward:n}=e;return e.deleteBackward=(...o)=>{const{selection:c}=e;if(c&&w.isCollapsed(c)){const[t]=d.nodes(e,{match:s=>p.isElement(s)&&s.type==="check-list-item"});if(t){const[,s]=t,a=d.start(e,s);if(g.equals(c.anchor,a)){const r={type:"paragraph"};k.setNodes(e,r,{match:i=>p.isElement(i)&&i.type==="check-list-item"});return}}}n(...o)},e},F=u({__name:"index",setup(e){const n=[{type:"paragraph",children:[{text:"With Slate you can build complex block types that have their own embedded content and behaviors, like rendering checkboxes inside check list items!"}]},{type:"check-list-item",checked:!0,children:[{text:"Slide to the left."}]},{type:"check-list-item",checked:!0,children:[{text:"Slide to the right."}]},{type:"check-list-item",checked:!1,children:[{text:"Criss-cross."}]},{type:"check-list-item",checked:!0,children:[{text:"Criss-cross!"}]},{type:"check-list-item",checked:!1,children:[{text:"Cha cha real smooth…"}]},{type:"check-list-item",checked:!1,children:[{text:"Let's go to work!"}]},{type:"paragraph",children:[{text:"Try it out for yourself!"}]}],o=({attributes:t,children:s,element:a})=>a.type==="check-list-item"?m(M,{element:a,...v(t)},()=>s):m("p",t,s),c=V($(b(E())));return c.children=n,(t,s)=>(f(),P(l(C),{editor:l(c),"render-element":o},{default:R(()=>[T(l(S),{placeholder:"Enter some rich text…",spellcheck:""})]),_:1},8,["editor"]))}});export{F as default};
