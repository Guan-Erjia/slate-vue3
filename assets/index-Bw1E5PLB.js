import{R as g,E as s,a as n,T as r,f as b,w as E,c as x,S as T,b as _}from"./editable-CteuoeWb.js";import"./prism-markdown-DWcXTy1f.js";import{Q as q,d as v,f as B,w as C,e as k,o as S,a as N,h as O}from"./index-C_5Oh6uc.js";import{w as P}from"./with-history-g4SYTP6o.js";const R={"*":"list-item","-":"list-item","+":"list-item",">":"block-quote","#":"heading-one","##":"heading-two","###":"heading-three","####":"heading-four","#####":"heading-five","######":"heading-six"},H=t=>{const{deleteBackward:u,insertText:h}=t;return t.insertText=async i=>{const{selection:a}=t;if(i.endsWith(" ")&&a&&g.isCollapsed(a)){const{anchor:o}=a,e=s.above(t,{match:p=>n.isElement(p)&&s.isBlock(t,p)}),y=e?e[1]:[],m=s.start(t,y),l={anchor:o,focus:m},c=s.string(t,l)+i.slice(0,-1),f=R[c];if(f){r.select(t,l),g.isCollapsed(l)||r.delete(t),await q();const p={type:f};if(r.setNodes(t,p,{match:d=>n.isElement(d)&&s.isBlock(t,d)}),f==="list-item"){const d={type:"bulleted-list",children:[]};r.wrapNodes(t,d,{match:w=>!s.isEditor(w)&&n.isElement(w)&&w.type==="list-item"})}return}}h(i)},t.deleteBackward=(...i)=>{const{selection:a}=t;if(a&&g.isCollapsed(a)){const o=s.above(t,{match:e=>n.isElement(e)&&s.isBlock(t,e)});if(o){const[e,y]=o,m=s.start(t,y);if(!s.isEditor(e)&&n.isElement(e)&&e.type!=="paragraph"&&b.equals(a.anchor,m)){const l={type:"paragraph"};r.setNodes(t,l),e.type==="list-item"&&r.unwrapNodes(t,{match:c=>!s.isEditor(c)&&n.isElement(c)&&c.type==="bulleted-list",split:!0});return}}u(...i)}},t},F=v({__name:"index",setup(t){const u=[{type:"paragraph",children:[{text:`The editor gives you full control over the logic you can add. For example, it's fairly common to want to add markdown-like shortcuts to editors. So that, when you start a line with "> " you get a blockquote that looks like this:`}]},{type:"block-quote",children:[{text:"A wise quote."}]},{type:"paragraph",children:[{text:'Order when you start a line with "## " you get a level-two heading, like this:'}]},{type:"heading-two",children:[{text:"Try it out!"}]},{type:"paragraph",children:[{text:'Try it out for yourself! Try starting a new line with ">", "-", or "#"s.'}]}],h=P(H(E(x())));h.children=u;const i=({attributes:a,children:o,element:e})=>O(e.type==="block-quote"?"blockquote":e.type==="bulleted-list"?"ul":e.type==="heading-one"?"h1":e.type==="heading-two"?"h2":e.type==="heading-three"?"h3":e.type==="heading-four"?"h4":e.type==="heading-five"?"h5":e.type==="heading-six"?"h6":e.type==="list-item"?"li":"p",a,o);return(a,o)=>(S(),B(k(T),{editor:k(h),"render-element":i},{default:C(()=>[N(k(_),{placeholder:"Write some markdown...",spellcheck:""})]),_:1},8,["editor"]))}});export{F as default};
