import{G as Lt,H as On,I as Qe,h as Q,d as Ae,k as ce,q as Z,J as ne,i as at,j as Ct,g as Os,K as ue,L as Mt,y as $t,p as Is,A as Ls}from"./index-C_5Oh6uc.js";const In=Symbol("SLATE_USE_EDITOR"),Ms=Symbol("SLATE_USE_ELEMENT"),$s=Symbol("SLATE_USE_FOCUSED"),Ln=Symbol("SLATE_USE_COMPOSING"),Mn=Symbol("SLATE_USE_READ_ONLY"),js=Symbol("SLATE_USE_SELECTION"),$n=Symbol("SLATE_INNER_RENDER_ELEMENT"),jn=Symbol("SLATE_INNER_RENDER_LEAF"),Wn=Symbol("SLATE_INNER_RENDER_PLACEHOLDER"),Hn=Symbol("SLATE_INNER_RENDER_TEXT"),zn=Symbol("SLATE_INNER_RENDER_CHUNK"),Vn=Symbol("SLATE_INNER_STATIC_CHUNK_ROOT"),Un=Symbol("SLATE_INNER_RENDER_DECORATE"),Kn=Symbol("SLATE_INNER_CHANGE_EFFECT_INJECT"),qn=Symbol("SLATE_INNER_MARK_PLACEHOLDER"),Gn=Symbol("SLATE_INNER_PLACEHOLDER"),Yn=Symbol("SLATE_INNER_PLACEHOLDER_SHOW"),Xn=Symbol("SLATE_INNER_PLACEHOLDER_RESIZE"),Ws={transform(e,t){const{current:n,affinity:r}=e;if(n==null)return;const o=d.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}},Hs={transform(e,t){const{current:n,affinity:r}=e;if(n==null)return;const o=H.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}},zs={transform(e,t){const{current:n,affinity:r}=e;if(n==null)return;const o=D.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}},mt=new WeakMap,Bt=new WeakMap,tt=new WeakMap,Jn=new WeakMap,Yt=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,d={ancestors(e,t={}){const{reverse:n=!1}=t;let r=d.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){const n=[];for(let r=0;r<e.length&&r<t.length;r++){const o=e[r],s=t[r];if(o!==s)break;n.push(o)}return n},compare(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){const n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),s=e[n],a=t[n];return d.equals(r,o)&&s>a},endsAt(e,t){const n=e.length,r=e.slice(0,n),o=t.slice(0,n);return d.equals(r,o)},endsBefore(e,t){const n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),s=e[n],a=t[n];return d.equals(r,o)&&s<a},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return d.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&d.compare(e,t)===0},isBefore(e,t){return d.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&d.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&d.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&d.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&d.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;const n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],s=t[t.length-1];return o!==s&&d.equals(n,r)},levels(e,t={}){const{reverse:n=!1}=t,r=[];for(let o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error(`Cannot get the next path of a root path [${e}], because it has no next index.`);const t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error(`Cannot get the parent path of the root path [${e}].`);return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error(`Cannot get the previous path of a root path [${e}], because it has no previous index.`);const t=e[e.length-1];if(t<=0)throw new Error(`Cannot get the previous path of a first child path [${e}] because it would result in a negative index.`);return e.slice(0,-1).concat(t-1)},relative(e,t){if(!d.isAncestor(t,e)&&!d.equals(e,t))throw new Error(`Cannot get the relative path of [${e}] inside ancestor [${t}], because it is not above or equal to the path.`);return e.slice(t.length)},transform(e,t,n={}){if(!e)return null;const r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{const{path:s}=t;(d.equals(s,r)||d.endsBefore(s,r)||d.isAncestor(s,r))&&(r[s.length-1]+=1);break}case"remove_node":{const{path:s}=t;if(d.equals(s,r)||d.isAncestor(s,r))return null;d.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{const{path:s,position:a}=t;d.equals(s,r)||d.endsBefore(s,r)?r[s.length-1]-=1:d.isAncestor(s,r)&&(r[s.length-1]-=1,r[s.length]+=a);break}case"split_node":{const{path:s,position:a}=t;if(d.equals(s,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else d.endsBefore(s,r)?r[s.length-1]+=1:d.isAncestor(s,r)&&e[s.length]>=a&&(r[s.length-1]+=1,r[s.length]-=a);break}case"move_node":{const{path:s,newPath:a}=t;if(d.equals(s,a))return r;if(d.isAncestor(s,r)||d.equals(s,r)){const u=a.slice();return d.endsBefore(s,a)&&s.length<a.length&&(u[s.length-1]-=1),u.concat(r.slice(s.length))}else d.isSibling(s,a)&&(d.isAncestor(a,r)||d.equals(a,r))?d.endsBefore(s,r)?r[s.length-1]-=1:r[s.length-1]+=1:d.endsBefore(a,r)||d.equals(a,r)||d.isAncestor(a,r)?(d.endsBefore(s,r)&&(r[s.length-1]-=1),r[a.length-1]+=1):d.endsBefore(s,r)&&(d.equals(a,r)&&(r[a.length-1]+=1),r[s.length-1]-=1);break}}return r}},Vs={transform(e,t){let n=!1;switch(t.type){case"insert_node":{const{path:r,node:o}=t,s=x.parent(e,r),a=r[r.length-1];if(a>s.children.length)throw new Error(`Cannot apply an 'insert_node' operation at path [${r}] because the destination is past the end of the node.`);s.children.splice(a,0,o),n=!0;break}case"insert_text":{const{path:r,offset:o,text:s}=t;if(s.length===0)break;const a=x.leaf(e,r),u=a.text.slice(0,o),l=a.text.slice(o);a.text=u+s+l,n=!0;break}case"merge_node":{const{path:r}=t,o=x.get(e,r),s=d.previous(r),a=x.get(e,s),u=x.parent(e,r),l=r[r.length-1];if(R.isText(o)&&R.isText(a))a.text+=o.text;else if(!R.isText(o)&&!R.isText(a))a.children.push(...o.children);else throw new Error(`Cannot apply a 'merge_node' operation at path [${r}] to nodes of different interfaces: ${se.stringify(o)} ${se.stringify(a)}`);u.children.splice(l,1),n=!0;break}case"move_node":{const{path:r,newPath:o}=t;if(d.isAncestor(r,o))throw new Error(`Cannot move a path [${r}] to new path [${o}] because the destination is inside itself.`);const s=x.get(e,r),a=x.parent(e,r),u=r[r.length-1];a.children.splice(u,1);const l=d.transform(r,t),c=x.get(e,d.parent(l)),f=l[l.length-1];c.children.splice(f,0,s),n=!0;break}case"remove_node":{const{path:r}=t,o=r[r.length-1];if(x.parent(e,r).children.splice(o,1),e.selection){let a={...e.selection};for(const[u,l]of D.points(a)){const c=H.transform(u,t);if(a!=null&&c!=null)a[l]=c;else{let f,p;for(const[g,C]of x.texts(e))if(d.compare(C,r)===-1)f=[g,C];else{p=[g,C];break}let h=!1;f&&p&&(d.isSibling(f[1],r)?h=!1:d.equals(p[1],r)?h=!0:h=d.common(f[1],r).length<d.common(p[1],r).length),f&&!h?a[l]={path:f[1],offset:f[0].text.length}:p?a[l]={path:p[1],offset:0}:a=null}}(!a||!D.equals(a,e.selection))&&(e.selection=a)}break}case"remove_text":{const{path:r,offset:o,text:s}=t;if(s.length===0)break;const a=x.leaf(e,r),u=a.text.slice(0,o),l=a.text.slice(o+s.length);a.text=u+l,n=!0;break}case"set_node":{const{path:r,properties:o,newProperties:s}=t;if(r.length===0)throw new Error("Cannot set properties on the root node!");const a=x.get(e,r);for(const u in s){if(u==="children"||u==="text")throw new Error(`Cannot set the '${u}' property of nodes!`);const l=s[u];l==null?delete a[u]:a[u]=l}for(const u in o)Object.prototype.hasOwnProperty.call(s,u)||delete a[u];break}case"set_selection":{const{newProperties:r}=t;if(r==null){e.selection=null;break}if(e.selection==null){if(!D.isRange(r))throw new Error(`Cannot apply an incomplete 'set_selection' operation properties ${se.stringify(r)} when there is no current selection.`);e.selection={...r};break}const o={...e.selection};for(const s in r){const a=r[s];if(a==null){if(s==="anchor"||s==="focus")throw new Error(`Cannot remove the '${s}' selection property`);delete o[s]}else o[s]=a}e.selection=o;break}case"split_node":{const{path:r,position:o,properties:s}=t;if(r.length===0)throw new Error(`Cannot apply a 'split_node' operation at path [${r}] because the root node cannot be split.`);const a=x.get(e,r),u=x.parent(e,r),l=r[r.length-1];let c;if(R.isText(a)){const f=a.text.slice(0,o),p=a.text.slice(o);a.text=f,c={...s,text:p}}else{const f=a.children.slice(0,o),p=a.children.slice(o);a.children=f,c={...s,children:p}}u.children.splice(l+1,0,c),n=!0;break}}if(n&&e.selection){const r={...e.selection};for(const[o,s]of D.points(r))r[s]=H.transform(o,t);D.equals(r,e.selection)||(e.selection=r)}}},Us={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},Ks={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},oe=e=>typeof e=="object"&&e!==null,Zn=(e,t)=>{for(const n in e){const r=e[n],o=t[n];if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(let s=0;s<r.length;s++)if(r[s]!==o[s])return!1}else if(oe(r)&&oe(o)){if(!Zn(r,o))return!1}else if(r!==o)return!1}for(const n in t)if(e[n]===void 0&&t[n]!==void 0)return!1;return!0},D={edges(e,t={}){const{reverse:n=!1}=t,{anchor:r,focus:o}=e;return D.isBackward(e)===n?[r,o]:[o,r]},end(e){const[,t]=D.edges(e);return t},equals(e,t){return H.equals(e.anchor,t.anchor)&&H.equals(e.focus,t.focus)},surrounds(e,t){const n=D.intersection(e,t);return n?D.equals(n,t):!1},includes(e,t){if(D.isRange(t)){if(D.includes(e,t.anchor)||D.includes(e,t.focus))return!0;const[a,u]=D.edges(e),[l,c]=D.edges(t);return H.isBefore(a,l)&&H.isAfter(u,c)}const[n,r]=D.edges(e);let o=!1,s=!1;return H.isPoint(t)?(o=H.compare(t,n)>=0,s=H.compare(t,r)<=0):(o=d.compare(t,n.path)>=0,s=d.compare(t,r.path)<=0),o&&s},intersection(e,t){const{anchor:n,focus:r,...o}=e,[s,a]=D.edges(e),[u,l]=D.edges(t),c=H.isBefore(s,u)?u:s,f=H.isBefore(a,l)?a:l;return H.isBefore(f,c)?null:{anchor:c,focus:f,...o}},isBackward(e){const{anchor:t,focus:n}=e;return H.isAfter(t,n)},isCollapsed(e){const{anchor:t,focus:n}=e;return H.equals(t,n)},isExpanded(e){return!D.isCollapsed(e)},isForward(e){return!D.isBackward(e)},isRange(e){return oe(e)&&H.isPoint(e.anchor)&&H.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){const[t]=D.edges(e);return t},transform(e,t,n={}){if(e===null)return null;const{affinity:r="inward"}=n;let o,s;if(r==="inward"){const l=D.isCollapsed(e);D.isForward(e)?(o="forward",s=l?o:"backward"):(o="backward",s=l?o:"forward")}else r==="outward"?D.isForward(e)?(o="backward",s="forward"):(o="forward",s="backward"):(o=r,s=r);const a=H.transform(e.anchor,t,{affinity:o}),u=H.transform(e.focus,t,{affinity:s});return!a||!u?null:{anchor:a,focus:u}}};var Qn=typeof global=="object"&&global&&global.Object===Object&&global,qs=typeof self=="object"&&self&&self.Object===Object&&self,he=Qn||qs||Function("return this")(),je=he.Symbol,es=Object.prototype,Gs=es.hasOwnProperty,Ys=es.toString,Je=je?je.toStringTag:void 0;function Xs(e){var t=Gs.call(e,Je),n=e[Je];try{e[Je]=void 0;var r=!0}catch{}var o=Ys.call(e);return r&&(t?e[Je]=n:delete e[Je]),o}var Js=Object.prototype,Zs=Js.toString;function Qs(e){return Zs.call(e)}var er="[object Null]",tr="[object Undefined]",Zt=je?je.toStringTag:void 0;function lt(e){return e==null?e===void 0?tr:er:Zt&&Zt in Object(e)?Xs(e):Qs(e)}function ft(e){return e!=null&&typeof e=="object"}var jt=Array.isArray;function wt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var nr="[object AsyncFunction]",sr="[object Function]",rr="[object GeneratorFunction]",or="[object Proxy]";function ts(e){if(!wt(e))return!1;var t=lt(e);return t==sr||t==rr||t==nr||t==or}var xt=he["__core-js_shared__"],Qt=(function(){var e=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function ar(e){return!!Qt&&Qt in e}var ir=Function.prototype,ur=ir.toString;function xe(e){if(e!=null){try{return ur.call(e)}catch{}try{return e+""}catch{}}return""}var cr=/[\\^$.*+?()[\]{}|]/g,lr=/^\[object .+?Constructor\]$/,fr=Function.prototype,dr=Object.prototype,hr=fr.toString,pr=dr.hasOwnProperty,gr=RegExp("^"+hr.call(pr).replace(cr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cr(e){if(!wt(e)||ar(e))return!1;var t=ts(e)?gr:lr;return t.test(xe(e))}function mr(e,t){return e?.[t]}function ve(e,t){var n=mr(e,t);return Cr(n)?n:void 0}var Nt=ve(he,"WeakMap"),en=Object.create,Br=(function(){function e(){}return function(t){if(!wt(t))return{};if(en)return en(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})(),tn=(function(){try{var e=ve(Object,"defineProperty");return e({},"",{}),e}catch{}})();function Er(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Dr=9007199254740991,wr=/^(?:0|[1-9]\d*)$/;function Ar(e,t){var n=typeof e;return t=t??Dr,!!t&&(n=="number"||n!="symbol"&&wr.test(e))&&e>-1&&e%1==0&&e<t}function yr(e,t,n){t=="__proto__"&&tn?tn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ns(e,t){return e===t||e!==e&&t!==t}var Fr=Object.prototype,br=Fr.hasOwnProperty;function xr(e,t,n){var r=e[t];(!(br.call(e,t)&&ns(r,n))||n===void 0&&!(t in e))&&yr(e,t,n)}var vr=9007199254740991;function ss(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vr}function kr(e){return e!=null&&ss(e.length)&&!ts(e)}var Tr=Object.prototype;function rs(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Tr;return e===n}function Nr(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Sr="[object Arguments]";function nn(e){return ft(e)&&lt(e)==Sr}var os=Object.prototype,Rr=os.hasOwnProperty,_r=os.propertyIsEnumerable,Pr=nn((function(){return arguments})())?nn:function(e){return ft(e)&&Rr.call(e,"callee")&&!_r.call(e,"callee")};function Or(){return!1}var as=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sn=as&&typeof module=="object"&&module&&!module.nodeType&&module,Ir=sn&&sn.exports===as,rn=Ir?he.Buffer:void 0,Lr=rn?rn.isBuffer:void 0,is=Lr||Or,Mr="[object Arguments]",$r="[object Array]",jr="[object Boolean]",Wr="[object Date]",Hr="[object Error]",zr="[object Function]",Vr="[object Map]",Ur="[object Number]",Kr="[object Object]",qr="[object RegExp]",Gr="[object Set]",Yr="[object String]",Xr="[object WeakMap]",Jr="[object ArrayBuffer]",Zr="[object DataView]",Qr="[object Float32Array]",eo="[object Float64Array]",to="[object Int8Array]",no="[object Int16Array]",so="[object Int32Array]",ro="[object Uint8Array]",oo="[object Uint8ClampedArray]",ao="[object Uint16Array]",io="[object Uint32Array]",q={};q[Qr]=q[eo]=q[to]=q[no]=q[so]=q[ro]=q[oo]=q[ao]=q[io]=!0;q[Mr]=q[$r]=q[Jr]=q[jr]=q[Zr]=q[Wr]=q[Hr]=q[zr]=q[Vr]=q[Ur]=q[Kr]=q[qr]=q[Gr]=q[Yr]=q[Xr]=!1;function uo(e){return ft(e)&&ss(e.length)&&!!q[lt(e)]}function Wt(e){return function(t){return e(t)}}var us=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nt=us&&typeof module=="object"&&module&&!module.nodeType&&module,co=nt&&nt.exports===us,vt=co&&Qn.process,We=(function(){try{var e=nt&&nt.require&&nt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch{}})(),on=We&&We.isTypedArray,lo=on?Wt(on):uo,fo=Object.prototype,ho=fo.hasOwnProperty;function po(e,t){var n=jt(e),r=!n&&Pr(e),o=!n&&!r&&is(e),s=!n&&!r&&!o&&lo(e),a=n||r||o||s,u=a?Nr(e.length,String):[],l=u.length;for(var c in e)ho.call(e,c)&&!(a&&(c=="length"||o&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ar(c,l)))&&u.push(c);return u}function cs(e,t){return function(n){return e(t(n))}}var go=cs(Object.keys,Object),Co=Object.prototype,mo=Co.hasOwnProperty;function Bo(e){if(!rs(e))return go(e);var t=[];for(var n in Object(e))mo.call(e,n)&&n!="constructor"&&t.push(n);return t}function Eo(e){return kr(e)?po(e):Bo(e)}var it=ve(Object,"create");function Do(){this.__data__=it?it(null):{},this.size=0}function wo(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ao="__lodash_hash_undefined__",yo=Object.prototype,Fo=yo.hasOwnProperty;function bo(e){var t=this.__data__;if(it){var n=t[e];return n===Ao?void 0:n}return Fo.call(t,e)?t[e]:void 0}var xo=Object.prototype,vo=xo.hasOwnProperty;function ko(e){var t=this.__data__;return it?t[e]!==void 0:vo.call(t,e)}var To="__lodash_hash_undefined__";function No(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=it&&t===void 0?To:t,this}function be(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}be.prototype.clear=Do;be.prototype.delete=wo;be.prototype.get=bo;be.prototype.has=ko;be.prototype.set=No;function So(){this.__data__=[],this.size=0}function At(e,t){for(var n=e.length;n--;)if(ns(e[n][0],t))return n;return-1}var Ro=Array.prototype,_o=Ro.splice;function Po(e){var t=this.__data__,n=At(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():_o.call(t,n,1),--this.size,!0}function Oo(e){var t=this.__data__,n=At(t,e);return n<0?void 0:t[n][1]}function Io(e){return At(this.__data__,e)>-1}function Lo(e,t){var n=this.__data__,r=At(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Be(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Be.prototype.clear=So;Be.prototype.delete=Po;Be.prototype.get=Oo;Be.prototype.has=Io;Be.prototype.set=Lo;var ut=ve(he,"Map");function Mo(){this.size=0,this.__data__={hash:new be,map:new(ut||Be),string:new be}}function $o(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function yt(e,t){var n=e.__data__;return $o(t)?n[typeof t=="string"?"string":"hash"]:n.map}function jo(e){var t=yt(this,e).delete(e);return this.size-=t?1:0,t}function Wo(e){return yt(this,e).get(e)}function Ho(e){return yt(this,e).has(e)}function zo(e,t){var n=yt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function ze(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ze.prototype.clear=Mo;ze.prototype.delete=jo;ze.prototype.get=Wo;ze.prototype.has=Ho;ze.prototype.set=zo;function Vo(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var Uo=cs(Object.getPrototypeOf,Object);function Ko(){this.__data__=new Be,this.size=0}function qo(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Go(e){return this.__data__.get(e)}function Yo(e){return this.__data__.has(e)}var Xo=200;function Jo(e,t){var n=this.__data__;if(n instanceof Be){var r=n.__data__;if(!ut||r.length<Xo-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ze(r)}return n.set(e,t),this.size=n.size,this}function Ve(e){var t=this.__data__=new Be(e);this.size=t.size}Ve.prototype.clear=Ko;Ve.prototype.delete=qo;Ve.prototype.get=Go;Ve.prototype.has=Yo;Ve.prototype.set=Jo;var ls=typeof exports=="object"&&exports&&!exports.nodeType&&exports,an=ls&&typeof module=="object"&&module&&!module.nodeType&&module,Zo=an&&an.exports===ls,un=Zo?he.Buffer:void 0;un&&un.allocUnsafe;function Qo(e,t){return e.slice()}function ea(e,t){for(var n=-1,r=e==null?0:e.length,o=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[o++]=a)}return s}function ta(){return[]}var na=Object.prototype,sa=na.propertyIsEnumerable,cn=Object.getOwnPropertySymbols,ra=cn?function(e){return e==null?[]:(e=Object(e),ea(cn(e),function(t){return sa.call(e,t)}))}:ta;function oa(e,t,n){var r=t(e);return jt(e)?r:Vo(r,n(e))}function aa(e){return oa(e,Eo,ra)}var St=ve(he,"DataView"),Rt=ve(he,"Promise"),_t=ve(he,"Set"),ln="[object Map]",ia="[object Object]",fn="[object Promise]",dn="[object Set]",hn="[object WeakMap]",pn="[object DataView]",ua=xe(St),ca=xe(ut),la=xe(Rt),fa=xe(_t),da=xe(Nt),Ce=lt;(St&&Ce(new St(new ArrayBuffer(1)))!=pn||ut&&Ce(new ut)!=ln||Rt&&Ce(Rt.resolve())!=fn||_t&&Ce(new _t)!=dn||Nt&&Ce(new Nt)!=hn)&&(Ce=function(e){var t=lt(e),n=t==ia?e.constructor:void 0,r=n?xe(n):"";if(r)switch(r){case ua:return pn;case ca:return ln;case la:return fn;case fa:return dn;case da:return hn}return t});var ha=Object.prototype,pa=ha.hasOwnProperty;function ga(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&pa.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var gn=he.Uint8Array;function Ht(e){var t=new e.constructor(e.byteLength);return new gn(t).set(new gn(e)),t}function Ca(e,t){var n=Ht(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var ma=/\w*$/;function Ba(e){var t=new e.constructor(e.source,ma.exec(e));return t.lastIndex=e.lastIndex,t}var Cn=je?je.prototype:void 0,mn=Cn?Cn.valueOf:void 0;function Ea(e){return mn?Object(mn.call(e)):{}}function Da(e,t){var n=Ht(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}var wa="[object Boolean]",Aa="[object Date]",ya="[object Map]",Fa="[object Number]",ba="[object RegExp]",xa="[object Set]",va="[object String]",ka="[object Symbol]",Ta="[object ArrayBuffer]",Na="[object DataView]",Sa="[object Float32Array]",Ra="[object Float64Array]",_a="[object Int8Array]",Pa="[object Int16Array]",Oa="[object Int32Array]",Ia="[object Uint8Array]",La="[object Uint8ClampedArray]",Ma="[object Uint16Array]",$a="[object Uint32Array]";function ja(e,t,n){var r=e.constructor;switch(t){case Ta:return Ht(e);case wa:case Aa:return new r(+e);case Na:return Ca(e);case Sa:case Ra:case _a:case Pa:case Oa:case Ia:case La:case Ma:case $a:return Da(e);case ya:return new r;case Fa:case va:return new r(e);case ba:return Ba(e);case xa:return new r;case ka:return Ea(e)}}function Wa(e){return typeof e.constructor=="function"&&!rs(e)?Br(Uo(e)):{}}var Ha="[object Map]";function za(e){return ft(e)&&Ce(e)==Ha}var Bn=We&&We.isMap,Va=Bn?Wt(Bn):za,Ua="[object Set]";function Ka(e){return ft(e)&&Ce(e)==Ua}var En=We&&We.isSet,qa=En?Wt(En):Ka,fs="[object Arguments]",Ga="[object Array]",Ya="[object Boolean]",Xa="[object Date]",Ja="[object Error]",ds="[object Function]",Za="[object GeneratorFunction]",Qa="[object Map]",ei="[object Number]",hs="[object Object]",ti="[object RegExp]",ni="[object Set]",si="[object String]",ri="[object Symbol]",oi="[object WeakMap]",ai="[object ArrayBuffer]",ii="[object DataView]",ui="[object Float32Array]",ci="[object Float64Array]",li="[object Int8Array]",fi="[object Int16Array]",di="[object Int32Array]",hi="[object Uint8Array]",pi="[object Uint8ClampedArray]",gi="[object Uint16Array]",Ci="[object Uint32Array]",K={};K[fs]=K[Ga]=K[ai]=K[ii]=K[Ya]=K[Xa]=K[ui]=K[ci]=K[li]=K[fi]=K[di]=K[Qa]=K[ei]=K[hs]=K[ti]=K[ni]=K[si]=K[ri]=K[hi]=K[pi]=K[gi]=K[Ci]=!0;K[Ja]=K[ds]=K[oi]=!1;function ht(e,t,n,r,o,s){var a;if(a!==void 0)return a;if(!wt(e))return e;var u=jt(e);if(u)a=ga(e);else{var l=Ce(e),c=l==ds||l==Za;if(is(e))return Qo(e);if(l==hs||l==fs||c&&!o)a=c?{}:Wa(e);else{if(!K[l])return o?e:{};a=ja(e,l)}}s||(s=new Ve);var f=s.get(e);if(f)return f;s.set(e,a),qa(e)?e.forEach(function(g){a.add(ht(g,t,n,g,e,s))}):Va(e)&&e.forEach(function(g,C){a.set(C,ht(g,t,n,C,e,s))});var p=aa,h=u?void 0:p(e);return Er(h||e,function(g,C){h&&(C=g,g=e[C]),xr(a,C,ht(g,t,n,C,e,s))}),a}var mi=1,Bi=4;function ke(e){return ht(e,mi|Bi)}const Dn=(e,{deep:t=!1}={})=>!oe(e)||typeof e.apply=="function"?!1:t?x.isNodeList(e.children):Array.isArray(e.children),N={isAncestor(e,{deep:t=!1}={}){return oe(e)&&x.isNodeList(e.children,{deep:t})},isElement:Dn,isElementList(e,{deep:t=!1}={}){return Array.isArray(e)&&e.every(n=>N.isElement(n,{deep:t}))},isElementProps(e){return e.children!==void 0},isElementType:(e,t,n="type")=>Dn(e)&&e[n]===t,matches(e,t){for(const n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},x={ancestor(e,t){const n=x.get(e,t);if(R.isText(n))throw new Error(`Cannot get the ancestor node at path [${t}] because it refers to a text node instead: ${se.stringify(n)}`);return n},*ancestors(e,t,n={}){for(const r of d.ancestors(t,n))yield[x.ancestor(e,r),r]},child(e,t){if(R.isText(e))throw new Error(`Cannot get the child of a text node: ${se.stringify(e)}`);const n=e.children[t];if(n==null)throw new Error(`Cannot get child at index \`${t}\` in node: ${se.stringify(e)}`);return n},*children(e,t,n={}){const{reverse:r=!1}=n,o=x.ancestor(e,t),{children:s}=o;let a=r?s.length-1:0;for(;r?a>=0:a<s.length;){const u=x.child(o,a),l=t.concat(a);yield[u,l],a=r?a-1:a+1}},common(e,t,n){const r=d.common(t,n);return[x.get(e,r),r]},descendant(e,t){const n=x.get(e,t);if(i.isEditor(n))throw new Error(`Cannot get the descendant node at path [${t}] because it refers to the root editor node instead: ${se.stringify(n)}`);return n},*descendants(e,t={}){for(const[n,r]of x.nodes(e,t))r.length!==0&&(yield[n,r])},*elements(e,t={}){for(const[n,r]of x.nodes(e,t))N.isElement(n)&&(yield[n,r])},extractProps(e){if(N.isAncestor(e)){const{children:t,...n}=e;return n}else{const{text:t,...n}=e;return n}},first(e,t){const n=t.slice();let r=x.get(e,n);for(;r&&!(R.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){const n={children:ke(e.children)},[r,o]=D.edges(t),s=x.nodes(n,{reverse:!0,pass:([,a])=>!D.includes(t,a)});for(const[,a]of s){if(!D.includes(t,a)){const u=x.parent(n,a),l=a[a.length-1];u.children.splice(l,1)}if(d.equals(a,o.path)){const u=x.leaf(n,a);u.text=u.text.slice(0,o.offset)}if(d.equals(a,r.path)){const u=x.leaf(n,a);u.text=u.text.slice(r.offset)}}return i.isEditor(n)&&(n.selection=null),n.children},get(e,t){const n=x.getIf(e,t);if(n===void 0)throw new Error(`Cannot find a descendant at path [${t}] in node: ${se.stringify(e)}`);return n},getIf(e,t){let n=e;for(let r=0;r<t.length;r++){const o=t[r];if(R.isText(n)||!n.children[o])return;n=n.children[o]}return n},has(e,t){let n=e;for(let r=0;r<t.length;r++){const o=t[r];if(R.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e,{deep:t=!1}={}){return R.isText(e)||N.isElement(e,{deep:t})||i.isEditor(e,{deep:t})},isNodeList(e,{deep:t=!1}={}){return Array.isArray(e)&&e.every(n=>x.isNode(n,{deep:t}))},last(e,t){const n=t.slice();let r=x.get(e,n);for(;r&&!(R.isText(r)||r.children.length===0);){const o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){const n=x.get(e,t);if(!R.isText(n))throw new Error(`Cannot get the leaf node at path [${t}] because it refers to a non-leaf node: ${se.stringify(n)}`);return n},*levels(e,t,n={}){for(const r of d.levels(t,n))yield[x.get(e,r),r]},matches(e,t){return N.isElement(e)&&N.isElementProps(t)&&N.matches(e,t)||R.isText(e)&&R.isTextProps(t)&&R.matches(e,t)},*nodes(e,t={}){const{pass:n,reverse:r=!1}=t,{from:o=[],to:s}=t,a=new Set;let u=[],l=e;for(;!(s&&(r?d.isBefore(u,s):d.isAfter(u,s)));){if(a.has(l)||(yield[l,u]),!a.has(l)&&!R.isText(l)&&l.children.length!==0&&(n==null||n([l,u])===!1)){a.add(l);let c=r?l.children.length-1:0;d.isAncestor(u,o)&&(c=o[u.length]),u=u.concat(c),l=x.get(e,u);continue}if(u.length===0)break;if(!r){const c=d.next(u);if(x.has(e,c)){u=c,l=x.get(e,u);continue}}if(r&&u[u.length-1]!==0){u=d.previous(u),l=x.get(e,u);continue}u=d.parent(u),l=x.get(e,u),a.add(l)}},parent(e,t){const n=d.parent(t),r=x.get(e,n);if(R.isText(r))throw new Error(`Cannot get the parent of path [${t}] because it does not exist in the root.`);return r},string(e){return R.isText(e)?e.text:e.children.map(x.string).join("")},*texts(e,t={}){for(const[n,r]of x.nodes(e,t))R.isText(n)&&(yield[n,r])}},et={isNodeOperation(e){return et.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!oe(e))return!1;switch(e.type){case"insert_node":return d.isPath(e.path)&&x.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&d.isPath(e.path);case"merge_node":return typeof e.position=="number"&&d.isPath(e.path)&&oe(e.properties);case"move_node":return d.isPath(e.path)&&d.isPath(e.newPath);case"remove_node":return d.isPath(e.path)&&x.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&d.isPath(e.path);case"set_node":return d.isPath(e.path)&&oe(e.properties)&&oe(e.newProperties);case"set_selection":return e.properties===null&&D.isRange(e.newProperties)||e.newProperties===null&&D.isRange(e.properties)||oe(e.properties)&&oe(e.newProperties);case"split_node":return d.isPath(e.path)&&typeof e.position=="number"&&oe(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>et.isOperation(t))},isSelectionOperation(e){return et.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return et.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return{...e,type:"remove_node"};case"insert_text":return{...e,type:"remove_text"};case"merge_node":return{...e,type:"split_node",path:d.previous(e.path)};case"move_node":{const{newPath:t,path:n}=e;if(d.equals(t,n))return e;if(d.isSibling(n,t))return{...e,path:t,newPath:n};const r=d.transform(n,e),o=d.transform(d.next(n),e);return{...e,path:r,newPath:o}}case"remove_node":return{...e,type:"insert_node"};case"remove_text":return{...e,type:"insert_text"};case"set_node":{const{properties:t,newProperties:n}=e;return{...e,properties:n,newProperties:t}}case"set_selection":{const{properties:t,newProperties:n}=e;return t==null?{...e,properties:n,newProperties:null}:n==null?{...e,properties:null,newProperties:t}:{...e,properties:n,newProperties:t}}case"split_node":return{...e,type:"merge_node",path:d.next(e.path)}}}},ps=new WeakSet,Ei=(e,{deep:t=!1}={})=>ps.has(e)?!0:oe(e)?typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||oe(e.marks))&&(e.selection===null||D.isRange(e.selection))&&(!t||x.isNodeList(e.children))&&et.isOperationList(e.operations):!1,i={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e,t={}){const{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e,t={}){const{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e,t={}){return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return Ei(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)},shouldMergeNodesRemovePrevNode:(e,t,n)=>e.shouldMergeNodesRemovePrevNode(t,n)},Al={isLocation(e){return d.isPath(e)||H.isPoint(e)||D.isRange(e)}},Di={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(d.isPath)}},H={compare(e,t){const n=d.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return H.compare(e,t)===1},isBefore(e,t){return H.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&d.equals(e.path,t.path)},isPoint(e){return oe(e)&&typeof e.offset=="number"&&d.isPath(e.path)},transform(e,t,n={}){if(e===null)return null;const{affinity:r="forward"}=n;let o=e.offset,s=ke(e.path);switch(t.type){case"insert_node":case"move_node":{s=d.transform(s,t,n);break}case"insert_text":{d.equals(t.path,s)&&(t.offset<o||t.offset===o&&r==="forward")&&(o+=t.text.length);break}case"merge_node":{d.equals(t.path,s)&&(o+=t.position),s=d.transform(s,t,n);break}case"remove_text":{d.equals(t.path,s)&&t.offset<=o&&(o-=Math.min(o-t.offset,t.text.length));break}case"remove_node":{if(d.equals(t.path,s)||d.isAncestor(t.path,s))return null;s=d.transform(s,t,n);break}case"split_node":{if(d.equals(t.path,s)){if(t.position===o&&r==null)return null;(t.position<o||t.position===o&&r==="forward")&&(o-=t.position,s=d.transform(s,t,{...n,affinity:"forward"}))}else s=d.transform(s,t,n);break}default:return e}return{path:s,offset:o}}};let wn;const se={setScrubber(e){wn=e},stringify(e){return JSON.stringify(e,wn)}},R={equals(e,t,n={}){const{loose:r=!1}=n;function o(s){const{text:a,...u}=s;return u}return Zn(r?o(e):e,r?o(t):t)},isText(e){return oe(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>R.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(const n in t)if(n!=="text"&&(!Object.prototype.hasOwnProperty.call(e,n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){let n=[{leaf:{...e}}];for(const r of t){const{anchor:o,focus:s,merge:a,...u}=r,[l,c]=D.edges(r),f=[];let p=0;const h=l.offset,g=c.offset,C=a??Object.assign;for(const{leaf:B}of n){const{length:E}=B.text,A=p;if(p+=E,h<=A&&p<=g){C(B,u),f.push({leaf:B});continue}if(h!==g&&(h===p||g===A)||h>p||g<A||g===A&&A!==0){f.push({leaf:B});continue}let y=B,v,S;if(g<p){const b=g-A;S={leaf:{...y,text:y.text.slice(b)}},y={...y,text:y.text.slice(0,b)}}if(h>A){const b=h-A;v={leaf:{...y,text:y.text.slice(0,b)}},y={...y,text:y.text.slice(b)}}C(y,u),v&&f.push(v),f.push({leaf:y}),S&&f.push(S)}n=f}if(n.length>1){let r=0;for(const[o,s]of n.entries()){const a=r,u=a+s.leaf.text.length,l={start:a,end:u};o===0&&(l.isFirst=!0),o===n.length-1&&(l.isLast=!0),s.position=l,r=u}}return n}},zt=e=>e.selection?e.selection:e.children.length>0?i.end(e,[]):[0],Ue=(e,t)=>{const[n]=i.node(e,t);return r=>r===n},Vt=(e,t=!1)=>{const n=!t,r=t?bi(e):e;let o=0,s=0,a=0,u=null,l=null;for(const c of r){const f=c.codePointAt(0);if(!f)break;const p=Li(c,f);if([o,s]=n?[s,p]:[p,o],Me(o,2)&&Me(s,1024)&&(n?u=An(e.substring(0,a)):u=An(e.substring(0,e.length-a)),!u)||Me(o,4)&&Me(s,4)&&(l!==null?l=!l:n?l=!0:l=Hi(e.substring(0,e.length-a)),!l)||o!==0&&s!==0&&$i(o,s))break;a+=c.length}return a||1},wi=/\s/,Ai=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,yi=/['\u2018\u2019]/,Fi=(e,t=!1)=>{let n=0,r=!1;for(;e.length>0;){const o=Vt(e,t),[s,a]=Ut(e,o,t);if(gs(s,a,t))r=!0,n+=o;else if(!r)n+=o;else break;e=a}return n},Ut=(e,t,n)=>{if(n){const r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},gs=(e,t,n=!1)=>{if(wi.test(e))return!1;if(yi.test(e)){const r=Vt(t,n),[o,s]=Ut(t,r,n);if(gs(o,s,n))return!0}return!Ai.test(e)},bi=function*(e){const t=e.length-1;for(let n=0;n<e.length;n++){const r=e.charAt(t-n);if(vi(r.charCodeAt(0))){const o=e.charAt(t-n-1);if(xi(o.charCodeAt(0))){yield o+r,n++;continue}}yield r}},xi=e=>e>=55296&&e<=56319,vi=e=>e>=56320&&e<=57343,ki=/^[\p{Gr_Ext}\p{EMod}]$/u,Ti=/^[\u0600-\u0605\u06DD\u070F\u0890-\u0891\u08E2\u0D4E\u{110BD}\u{110CD}\u{111C2}-\u{111C3}\u{1193F}\u{11941}\u{11A3A}\u{11A84}-\u{11A89}\u{11D46}]$/u,Ni=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BF-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC1\u0CC3-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0D02-\u0D03\u0D3F-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82-\u0D83\u0DD0-\u0DD1\u0DD8-\u0DDE\u0DF2-\u0DF3\u0E33\u0EB3\u0F3E-\u0F3F\u0F7F\u1031\u103B-\u103C\u1056-\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF7\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BE-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC\u{11000}\u{11002}\u{11082}\u{110B0}-\u{110B2}\u{110B7}-\u{110B8}\u{1112C}\u{11145}-\u{11146}\u{11182}\u{111B3}-\u{111B5}\u{111BF}-\u{111C0}\u{111CE}\u{1122C}-\u{1122E}\u{11232}-\u{11233}\u{11235}\u{112E0}-\u{112E2}\u{11302}-\u{11303}\u{1133F}\u{11341}-\u{11344}\u{11347}-\u{11348}\u{1134B}-\u{1134D}\u{11362}-\u{11363}\u{11435}-\u{11437}\u{11440}-\u{11441}\u{11445}\u{114B1}-\u{114B2}\u{114B9}\u{114BB}-\u{114BC}\u{114BE}\u{114C1}\u{115B0}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{11630}-\u{11632}\u{1163B}-\u{1163C}\u{1163E}\u{116AC}\u{116AE}-\u{116AF}\u{116B6}\u{11726}\u{1182C}-\u{1182E}\u{11838}\u{11931}-\u{11935}\u{11937}-\u{11938}\u{1193D}\u{11940}\u{11942}\u{119D1}-\u{119D3}\u{119DC}-\u{119DF}\u{119E4}\u{11A39}\u{11A57}-\u{11A58}\u{11A97}\u{11C2F}\u{11C3E}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D8A}-\u{11D8E}\u{11D93}-\u{11D94}\u{11D96}\u{11EF5}-\u{11EF6}\u{16F51}-\u{16F87}\u{16FF0}-\u{16FF1}\u{1D166}\u{1D16D}]$/u,Si=/^[\u1100-\u115F\uA960-\uA97C]$/u,Ri=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/u,_i=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/u,Pi=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/u,Oi=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/u,Ii=new RegExp("^\\p{ExtPict}$","u"),Li=(e,t)=>{let n=2048;return e.search(ki)!==-1&&(n|=1),t===8205&&(n|=2),t>=127462&&t<=127487&&(n|=4),e.search(Ti)!==-1&&(n|=8),e.search(Ni)!==-1&&(n|=16),e.search(Si)!==-1&&(n|=32),e.search(Ri)!==-1&&(n|=64),e.search(_i)!==-1&&(n|=128),e.search(Pi)!==-1&&(n|=256),e.search(Oi)!==-1&&(n|=512),e.search(Ii)!==-1&&(n|=1024),n};function Me(e,t){return(e&t)!==0}const Mi=[[32,864],[320,192],[640,128],[2048,3],[2048,16],[8,2048],[2,1024],[4,4]];function $i(e,t){return Mi.findIndex(n=>Me(e,n[0])&&Me(t,n[1]))===-1}const ji=new RegExp("\\p{ExtPict}[\\p{Gr_Ext}\\p{EMod}]*\\u200D$","u"),An=e=>e.search(ji)!==-1,Wi=new RegExp("\\p{RI}+$","gu"),Hi=e=>{const t=e.match(Wi);return t===null?!1:t[0].length/2%2===1},zi={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t,n={}){i.withoutNormalizing(e,()=>{const{voids:r=!1}=n;let{at:o=zt(e)}=n;if(d.isPath(o)&&(o=i.range(e,o)),D.isRange(o))if(D.isCollapsed(o))o=o.anchor;else{const u=D.end(o);if(!r&&i.void(e,{at:u}))return;const l=D.start(o),c=i.pointRef(e,l),f=i.pointRef(e,u);F.delete(e,{at:o,voids:r});const p=c.unref(),h=f.unref();o=p||h,F.setSelection(e,{anchor:o,focus:o})}if(!r&&i.void(e,{at:o})||i.elementReadOnly(e,{at:o}))return;const{path:s,offset:a}=o;t.length>0&&e.apply({type:"insert_text",path:s,offset:a,text:t})})}},F={...Vs,...Us,...Ks,...zi},pt=new WeakMap,Vi=e=>pt.get(e)||!1,Ui=(e,t,n)=>{const r=pt.get(e)||!1;pt.set(e,!0);try{t(),n()}finally{pt.set(e,r)}};function Cs(e,t,n){const r=mt.get(e)||[],o=Bt.get(e)||new Set;let s,a;const u=l=>{if(l){const c=l.join(",");a.has(c)||(a.add(c),s.push(l))}};if(n){s=[],a=new Set;for(const l of r){const c=n(l);u(c)}}else s=r,a=o;for(const l of t)u(l);mt.set(e,s),Bt.set(e,a)}const Ki=(e,t)=>{for(const n of i.pathRefs(e))Ws.transform(n,t);for(const n of i.pointRefs(e))Hs.transform(n,t);for(const n of i.rangeRefs(e))zs.transform(n,t);if(!Vi(e)){const n=d.operationCanTransformPath(t)?r=>d.transform(r,t):void 0;Cs(e,e.getDirtyPaths(t),n)}F.transform(e,t),e.operations.push(t),i.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),tt.get(e)||(tt.set(e,!0),Promise.resolve().then(()=>{tt.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},qi=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{const{path:n}=t;return d.levels(n)}case"insert_node":{const{node:n,path:r}=t,o=d.levels(r),s=R.isText(n)?[]:Array.from(x.nodes(n),([,a])=>r.concat(a));return[...o,...s]}case"merge_node":{const{path:n}=t,r=d.ancestors(n),o=d.previous(n);return[...r,o]}case"move_node":{const{path:n,newPath:r}=t;if(d.equals(n,r))return[];const o=[],s=[];for(const c of d.ancestors(n)){const f=d.transform(c,t);o.push(f)}for(const c of d.ancestors(r)){const f=d.transform(c,t);s.push(f)}const a=s[s.length-1],u=r[r.length-1],l=a.concat(u);return[...o,...s,l]}case"remove_node":{const{path:n}=t;return[...d.ancestors(n)]}case"split_node":{const{path:n}=t,r=d.levels(n),o=d.next(n);return[...r,o]}default:return[]}},Gi=e=>{const{selection:t}=e;return t?x.fragment(e,t):[]},Yi=(e,t,n)=>{const[r,o]=t;if(R.isText(r))return;if(N.isElement(r)&&r.children.length===0){const u={text:""};F.insertNodes(e,u,{at:o.concat(0),voids:!0});return}const s=i.isEditor(r)?!1:N.isElement(r)&&(e.isInline(r)||r.children.length===0||R.isText(r.children[0])||e.isInline(r.children[0]));let a=0;for(let u=0;u<r.children.length;u++,a++){const l=x.get(e,o);if(R.isText(l))continue;const c=l.children[a];if(c===void 0)continue;const f=l.children[a-1],p=u===r.children.length-1,h=R.isText(c)||N.isElement(c)&&e.isInline(c);if(h!==s)h?n?.fallbackElement?F.wrapNodes(e,n.fallbackElement(),{at:o.concat(a),voids:!0}):F.removeNodes(e,{at:o.concat(a),voids:!0}):F.unwrapNodes(e,{at:o.concat(a),voids:!0}),a--;else if(N.isElement(c)){if(e.isInline(c)){if(f==null||!R.isText(f)){const g={text:""};F.insertNodes(e,g,{at:o.concat(a),voids:!0}),a++}else if(p){const g={text:""};F.insertNodes(e,g,{at:o.concat(a+1),voids:!0}),a++}}}else{if(!R.isText(c)&&!("children"in c)){const g=c;g.children=[]}f!=null&&R.isText(f)&&(R.equals(c,f,{loose:!0})?(F.mergeNodes(e,{at:o.concat(a),voids:!0}),a--):f.text===""?(F.removeNodes(e,{at:o.concat(a-1),voids:!0}),a--):c.text===""&&(F.removeNodes(e,{at:o.concat(a),voids:!0}),a--))}}},Xi=(e,{iteration:t,initialDirtyPathsLength:n})=>{const r=n*42;if(t>r)throw new Error(`Could not completely normalize the editor after ${r} iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.`);return!0},Ji=(e,t={})=>{const{voids:n=!1,mode:r="lowest",at:o=e.selection,match:s}=t;if(!o)return;let a=i.path(e,o);if(!D.isRange(o)||d.equals(o.focus.path,o.anchor.path)){if(a.length===0)return;a=d.parent(a)}const u=r==="lowest",[l]=i.levels(e,{at:a,voids:n,match:s,reverse:u});return l},Zi=(e,t,n)=>{const{selection:r}=e;if(r){const o=(u,l)=>{if(!R.isText(u))return!1;const[c,f]=i.parent(e,l);return!e.isVoid(c)||e.markableVoid(c)},s=D.isExpanded(r);let a=!1;if(!s){const[u,l]=i.node(e,r);if(u&&o(u,l)){const[c]=i.parent(e,l);a=c&&e.markableVoid(c)}}if(s||a)F.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{const u={...i.marks(e)||{},[t]:n};e.marks=u,tt.get(e)||e.onChange()}}},Qi=(e,t,n={})=>{const r=i.point(e,t,{edge:"end"}),o=i.end(e,[]),s={anchor:r,focus:o},{distance:a=1}=n;let u=0,l;for(const c of i.positions(e,{...n,at:s})){if(u>a)break;u!==0&&(l=c),u++}return l},eu=(e,t,n={})=>{const r=i.start(e,[]),o=i.point(e,t,{edge:"start"}),s={anchor:r,focus:o},{distance:a=1}=n;let u=0,l;for(const c of i.positions(e,{...n,at:s,reverse:!0})){if(u>a)break;u!==0&&(l=c),u++}return l},tu=(e,t)=>{const{selection:n}=e;n&&D.isCollapsed(n)&&F.delete(e,{unit:t,reverse:!0})},nu=(e,t)=>{const{selection:n}=e;n&&D.isCollapsed(n)&&F.delete(e,{unit:t})},su=(e,{direction:t="forward"}={})=>{const{selection:n}=e;n&&D.isExpanded(n)&&F.delete(e,{reverse:t==="backward"})},ru=(e,t)=>[i.start(e,t),i.end(e,t)],ou=(e,t={})=>i.above(e,{...t,match:n=>N.isElement(n)&&i.isElementReadOnly(e,n)}),au=(e,t)=>i.point(e,t,{edge:"end"}),iu=(e,t)=>{const n=i.path(e,t,{edge:"start"});return i.node(e,n)},uu=(e,t)=>{const n=i.range(e,t);return x.fragment(e,n)},cu=(e,t={})=>i.above(e,{...t,match:n=>N.isElement(n)&&i.isVoid(e,n)}),lu=(e,t)=>t.children.some(n=>N.isElement(n)&&i.isBlock(e,n)),fu=(e,t)=>t.children.some(n=>R.isText(n)||i.isInline(e,n)),du=(e,t)=>x.has(e,t),hu=(e,t)=>t.children.every(n=>R.isText(n)),pu=e=>{F.splitNodes(e,{always:!0})},gu=(e,t,n)=>{F.insertNodes(e,t,n)},Cu=e=>{F.splitNodes(e,{always:!0})},mu=(e,t,n={})=>{const{selection:r,marks:o}=e;if(r){if(o){const s={text:t,...o};F.insertNodes(e,s,{at:n.at,voids:n.voids})}else F.insertText(e,t,n);e.marks=null}},Bu=(e,t)=>!e.isInline(t),Eu=(e,t,n)=>i.isStart(e,t,n)||i.isEnd(e,t,n),Du=(e,t)=>{const{children:n}=t,[r]=n;return n.length===0||n.length===1&&R.isText(r)&&r.text===""&&!e.isVoid(t)},wu=(e,t,n)=>{const r=i.end(e,n);return H.equals(t,r)},Au=e=>{const t=Jn.get(e);return t===void 0?!0:t},yu=(e,t,n)=>{if(t.offset!==0)return!1;const r=i.start(e,n);return H.equals(t,r)},Fu=(e,t)=>{const n=i.path(e,t,{edge:"end"});return i.node(e,n)},bu=(e,t,n={})=>{const r=i.path(e,t,n);return[x.leaf(e,r),r]};function*xu(e,t={}){const{at:n=e.selection,reverse:r=!1,voids:o=!1}=t;let{match:s}=t;if(s==null&&(s=()=>!0),!n)return;const a=[],u=i.path(e,n);for(const[l,c]of x.levels(e,u))if(s(l,c)&&(a.push([l,c]),!o&&N.isElement(l)&&i.isVoid(e,l)))break;r&&a.reverse(),yield*a}const vu=(e,t={})=>{const{marks:n,selection:r}=e;if(!r)return null;let{anchor:o,focus:s}=r;if(n)return n;if(D.isExpanded(r)){if(D.isBackward(r)&&([s,o]=[o,s]),i.isEnd(e,o,o.path)){const g=i.after(e,o);g&&(o=g)}const[h]=i.nodes(e,{match:R.isText,at:{anchor:o,focus:s}});if(h){const[g]=h,{text:C,...B}=g;return B}else return{}}const{path:a}=o;let[u]=i.leaf(e,a);if(o.offset===0){const f=i.previous(e,{at:a,match:R.isText});if(!i.above(e,{match:h=>N.isElement(h)&&i.isVoid(e,h)&&e.markableVoid(h)})){const h=i.above(e,{match:g=>N.isElement(g)&&i.isBlock(e,g)});if(f&&h){const[g,C]=f,[,B]=h;d.isAncestor(B,C)&&(u=g)}}}const{text:l,...c}=u;return c},ku=(e,t={})=>{const{mode:n="lowest",voids:r=!1}=t,{at:o=e.selection}=t;let{match:s}=t;if(!o)return;const a=i.after(e,o,{voids:r});if(!a)return;const[,u]=i.last(e,[]),l=[a.path,u];if(d.isPath(o)&&o.length===0)throw new Error("Cannot get the next node from the root node!");if(s==null)if(d.isPath(o)){const[f]=i.parent(e,o);s=p=>f.children.includes(p)}else s=()=>!0;const[c]=i.nodes(e,{at:l,match:s,mode:n,voids:r});return c},Tu=(e,t,n={})=>{const r=i.path(e,t,n);return[x.get(e,r),r]};function*Nu(e,t={}){const{at:n=e.selection,mode:r="all",universal:o=!1,reverse:s=!1,voids:a=!1,pass:u}=t;let{match:l}=t;if(l||(l=()=>!0),!n)return;let c,f;if(Di.isSpan(n))c=n[0],f=n[1];else{const C=i.path(e,n,{edge:"start"}),B=i.path(e,n,{edge:"end"});c=s?B:C,f=s?C:B}const p=x.nodes(e,{reverse:s,from:c,to:f,pass:([C,B])=>u&&u([C,B])?!0:N.isElement(C)?!!(!a&&(i.isVoid(e,C)||i.isElementReadOnly(e,C))):!1}),h=[];let g;for(const[C,B]of p){const E=g&&d.compare(B,g[1])===0;if(r==="highest"&&E)continue;if(!l(C,B)){if(o&&!E&&R.isText(C))return;continue}if(r==="lowest"&&E){g=[C,B];continue}const A=r==="lowest"?g:[C,B];A&&(o?h.push(A):yield A),g=[C,B]}r==="lowest"&&g&&(o?h.push(g):yield g),o&&(yield*h)}const Su=(e,t={})=>{const{force:n=!1,operation:r}=t,o=u=>mt.get(u)||[],s=u=>Bt.get(u)||new Set,a=u=>{const l=o(u).pop(),c=l.join(",");return s(u).delete(c),l};if(i.isNormalizing(e)){if(n){const u=Array.from(x.nodes(e),([,c])=>c),l=new Set(u.map(c=>c.join(",")));mt.set(e,u),Bt.set(e,l)}o(e).length!==0&&i.withoutNormalizing(e,()=>{for(const f of o(e))if(x.has(e,f)){const p=i.node(e,f),[h,g]=p;N.isElement(h)&&h.children.length===0&&e.normalizeNode(p,{operation:r})}let u=o(e);const l=u.length;let c=0;for(;u.length!==0;){if(!e.shouldNormalize({dirtyPaths:u,iteration:c,initialDirtyPathsLength:l,operation:r}))return;const f=a(e);if(x.has(e,f)){const p=i.node(e,f);e.normalizeNode(p,{operation:r})}c++,u=o(e)}})}},Ru=(e,t,n={})=>{const r=i.path(e,t,n),o=d.parent(r);return i.node(e,o)},_u=(e,t,n={})=>{const{affinity:r="forward"}=n,o={current:t,affinity:r,unref(){const{current:a}=o;return i.pathRefs(e).delete(o),o.current=null,a}};return i.pathRefs(e).add(o),o},Pu=e=>{let t=Yt.get(e);return t||(t=new Set,Yt.set(e,t)),t},Ou=(e,t,n={})=>{const{depth:r,edge:o}=n;if(d.isPath(t)){if(o==="start"){const[,s]=x.first(e,t);t=s}else if(o==="end"){const[,s]=x.last(e,t);t=s}}return D.isRange(t)&&(o==="start"?t=D.start(t):o==="end"?t=D.end(t):t=d.common(t.anchor.path,t.focus.path)),H.isPoint(t)&&(t=t.path),r!=null&&(t=t.slice(0,r)),t},Iu=(e,t,n={})=>{const{affinity:r="forward"}=n,o={current:t,affinity:r,unref(){const{current:a}=o;return i.pointRefs(e).delete(o),o.current=null,a}};return i.pointRefs(e).add(o),o},Lu=e=>{let t=Xt.get(e);return t||(t=new Set,Xt.set(e,t)),t},Mu=(e,t,n={})=>{const{edge:r="start"}=n;if(d.isPath(t)){let o;if(r==="end"){const[,a]=x.last(e,t);o=a}else{const[,a]=x.first(e,t);o=a}const s=x.get(e,o);if(!R.isText(s))throw new Error(`Cannot get the ${r} point in the node at path [${t}] because it has no ${r} text node.`);return{path:o,offset:r==="end"?s.text.length:0}}if(D.isRange(t)){const[o,s]=D.edges(t);return r==="start"?o:s}return t};function*$u(e,t={}){const{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:s=!1}=t;if(!n)return;const a=i.range(e,n),[u,l]=D.edges(a),c=o?l:u;let f=!1,p="",h=0,g=0,C=0;const B=[];for(const[A,y]of i.nodes(e,{at:n,reverse:o,voids:s})){const v=B.some(b=>d.isAncestor(b,y));function*S(b){v||(yield b)}if(N.isElement(A)){if(!e.isSelectable(A))if(B.push(y),o){d.hasPrevious(y)&&(yield*S(i.end(e,d.previous(y))));continue}else{const b=d.next(y);i.hasPath(e,b)&&(yield*S(i.start(e,b)));continue}if(!s&&(e.isVoid(A)||e.isElementReadOnly(A))){yield*S(i.start(e,y));continue}if(e.isInline(A))continue;if(i.hasInlines(e,A)){const b=d.isAncestor(y,l.path)?l:i.end(e,y),_=d.isAncestor(y,u.path)?u:i.start(e,y);p=i.string(e,{anchor:_,focus:b},{voids:s}),f=!0}}if(R.isText(A)){const b=d.equals(y,c.path);for(b?(g=o?c.offset:A.text.length-c.offset,C=c.offset):(g=A.text.length,C=o?g:0),(b||f||r==="offset")&&(yield*S({path:y,offset:C}),f=!1);;){if(h===0){if(p==="")break;h=E(p,r,o),p=Ut(p,h,o)[1]}if(C=o?C-h:C+h,g=g-h,g<0){h=-g;break}h=0,yield*S({path:y,offset:C})}}}function E(A,y,v){return y==="character"?Vt(A,v):y==="word"?Fi(A,v):y==="line"||y==="block"?A.length:1}}const ju=(e,t={})=>{const{mode:n="lowest",voids:r=!1}=t;let{match:o}=t;const{at:s=e.selection}=t;if(!s)return;const a=i.before(e,s,{voids:r});if(!a)return;const[,u]=i.first(e,[]),l=[a.path,u];if(d.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(o==null)if(d.isPath(s)){const[f]=i.parent(e,s);o=p=>f.children.includes(p)}else o=()=>!0;const[c]=i.nodes(e,{reverse:!0,at:l,match:o,mode:n,voids:r});return c},Wu=(e,t,n={})=>{const{affinity:r="forward"}=n,o={current:t,affinity:r,unref(){const{current:a}=o;return i.rangeRefs(e).delete(o),o.current=null,a}};return i.rangeRefs(e).add(o),o},Hu=e=>{let t=Jt.get(e);return t||(t=new Set,Jt.set(e,t)),t},zu=(e,t,n)=>{if(D.isRange(t)&&!n)return t;const r=i.start(e,t),o=i.end(e,n||t);return{anchor:r,focus:o}},Vu=(e,t)=>{const{selection:n}=e;if(n){const r=(a,u)=>{if(!R.isText(a))return!1;const[l,c]=i.parent(e,u);return!e.isVoid(l)||e.markableVoid(l)},o=D.isExpanded(n);let s=!1;if(!o){const[a,u]=i.node(e,n);if(a&&r(a,u)){const[l]=i.parent(e,u);s=l&&e.markableVoid(l)}}if(o||s)F.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{const a={...i.marks(e)||{}};delete a[t],e.marks=a,tt.get(e)||e.onChange()}}},Uu=(e,t)=>{Jn.set(e,t)},Ku=(e,t)=>i.point(e,t,{edge:"start"}),qu=(e,t,n={})=>{const{voids:r=!1}=n,o=i.range(e,t),[s,a]=D.edges(o);let u="";for(const[l,c]of i.nodes(e,{at:o,match:R.isText,voids:r})){let f=l.text;d.equals(c,a.path)&&(f=f.slice(0,a.offset)),d.equals(c,s.path)&&(f=f.slice(s.offset)),u+=f}return u},Gu=(e,t,n={})=>{const{voids:r=!1}=n,o=D.edges(t),[s]=o;let[,a]=o;if(s.offset!==0||a.offset!==0||D.isCollapsed(t)||d.hasPrevious(a.path))return t;const u=i.above(e,{at:a,match:h=>N.isElement(h)&&i.isBlock(e,h),voids:r}),l=u?u[1]:[],f={anchor:i.start(e,s),focus:a};let p=!0;for(const[h,g]of i.nodes(e,{at:f,match:R.isText,reverse:!0,voids:r})){if(p){p=!1;continue}if(h.text!==""||d.isBefore(g,l)){a={path:g,offset:h.text.length};break}}return{anchor:s,focus:a}},Yu=(e,t)=>{const n=i.isNormalizing(e);i.setNormalizing(e,!1);try{t()}finally{i.setNormalizing(e,n)}i.normalize(e)},Xu=(e,[t,n],[r,o])=>N.isElement(t)&&i.isEmpty(e,t)||R.isText(t)&&t.text===""&&n[n.length-1]!==0,Ju=(e,t={})=>{i.withoutNormalizing(e,()=>{const{reverse:n=!1,unit:r="character",distance:o=1,voids:s=!1}=t;let{at:a=ke(e.selection),hanging:u=!1}=t;if(!a)return;let l=!1;if(D.isRange(a)&&D.isCollapsed(a)&&(l=!0,a=a.anchor),H.isPoint(a)){const P=i.void(e,{at:a,mode:"highest"});if(!s&&P){const[,z]=P;a=z}else{const z={unit:r,distance:o},T=n?i.before(e,a,z)||i.start(e,[]):i.after(e,a,z)||i.end(e,[]);a={anchor:a,focus:T},u=!0}}if(d.isPath(a)){F.removeNodes(e,{at:a,voids:s});return}if(D.isCollapsed(a))return;if(!u){const[,P]=D.edges(a),z=i.end(e,[]);H.equals(P,z)||(a=i.unhangRange(e,a,{voids:s}))}let[c,f]=D.edges(a);const p=i.above(e,{match:P=>N.isElement(P)&&i.isBlock(e,P),at:c,voids:s}),h=i.above(e,{match:P=>N.isElement(P)&&i.isBlock(e,P),at:f,voids:s}),g=p&&h&&!d.equals(p[1],h[1]),C=d.equals(c.path,f.path),B=s?null:i.void(e,{at:c,mode:"highest"})??i.elementReadOnly(e,{at:c,mode:"highest"}),E=s?null:i.void(e,{at:f,mode:"highest"})??i.elementReadOnly(e,{at:f,mode:"highest"});if(B){const P=i.before(e,c);P&&p&&d.isAncestor(p[1],P.path)&&(c=P)}if(E){const P=i.after(e,f);P&&h&&d.isAncestor(h[1],P.path)&&(f=P)}const A=[];let y;for(const P of i.nodes(e,{at:a,voids:s})){const[z,T]=P;y&&d.compare(T,y)===0||(!s&&N.isElement(z)&&(i.isVoid(e,z)||i.isElementReadOnly(e,z))||!d.isCommon(T,c.path)&&!d.isCommon(T,f.path))&&(A.push(P),y=T)}const v=Array.from(A,([,P])=>i.pathRef(e,P)),S=i.pointRef(e,c),b=i.pointRef(e,f);let _="";if(!C&&!B){const P=S.current,[z]=i.leaf(e,P),{path:T}=P,{offset:$}=c,Y=z.text.slice($);Y.length>0&&(e.apply({type:"remove_text",path:T,offset:$,text:Y}),_=Y)}if(v.reverse().map(P=>P.unref()).filter(P=>P!==null).forEach(P=>F.removeNodes(e,{at:P,voids:s})),!E){const P=b.current,[z]=i.leaf(e,P),{path:T}=P,$=C?c.offset:0,Y=z.text.slice($,f.offset);Y.length>0&&(e.apply({type:"remove_text",path:T,offset:$,text:Y}),_=Y)}!C&&g&&b.current&&S.current&&F.mergeNodes(e,{at:b.current,hanging:!0,voids:s}),l&&n&&r==="character"&&_.length>1&&_.match(/[\u0980-\u09FF\u0E00-\u0E7F\u1000-\u109F\u0900-\u097F\u1780-\u17FF\u0D00-\u0D7F\u0B00-\u0B7F\u0A00-\u0A7F\u0B80-\u0BFF\u0C00-\u0C7F]+/)&&F.insertText(e,_.slice(0,_.length-o));const G=S.unref(),I=b.unref(),ae=n?G||I:I||G;t.at==null&&ae&&F.select(e,ae)})},Zu=(e,t,n={})=>{i.withoutNormalizing(e,()=>{const{hanging:r=!1,voids:o=!1}=n;let{at:s=zt(e)}=n;const{batchDirty:a=!0}=n;if(!t.length)return;if(D.isRange(s))if(r||(s=i.unhangRange(e,s,{voids:o})),D.isCollapsed(s))s=s.anchor;else{const[,T]=D.edges(s);if(!o&&i.void(e,{at:T}))return;const $=i.pointRef(e,T);F.delete(e,{at:s}),s=$.unref()}else d.isPath(s)&&(s=i.start(e,s));if(!o&&i.void(e,{at:s}))return;const u=i.above(e,{at:s,match:T=>N.isElement(T)&&i.isInline(e,T),mode:"highest",voids:o});if(u){const[,T]=u;i.isEnd(e,s,T)?s=i.after(e,T):i.isStart(e,s,T)&&(s=i.before(e,T))}const l=i.above(e,{match:T=>N.isElement(T)&&i.isBlock(e,T),at:s,voids:o}),[,c]=l,f=i.isStart(e,s,c),p=i.isEnd(e,s,c),h=f&&p,[,g]=x.first({children:t},[]),[,C]=x.last({children:t},[]),B=([T,$])=>$.length===0?!1:h?!0:!(!f&&d.isAncestor($,g)&&N.isElement(T)&&!e.isVoid(T)&&!e.isInline(T)||!p&&d.isAncestor($,C)&&N.isElement(T)&&!e.isVoid(T)&&!e.isInline(T));let E=!0;const A=[],y=[],v=[];for(const T of x.nodes({children:t},{pass:B})){const[$,Y]=T;E&&N.isElement($)&&!e.isInline($)&&!d.isAncestor(Y,g)&&(E=!1),B(T)&&(N.isElement($)&&!e.isInline($)?(E=!1,y.push($)):E?A.push($):v.push($))}const[S]=i.nodes(e,{at:s,match:T=>R.isText(T)||i.isInline(e,T),mode:"highest",voids:o}),[,b]=S,_=i.isStart(e,s,b),G=i.isEnd(e,s,b),I=i.pathRef(e,p&&!v.length?d.next(c):c),ae=i.pathRef(e,G?d.next(b):b),P=v.length>0;F.splitNodes(e,{at:s,match:T=>P?N.isElement(T)&&i.isBlock(e,T):R.isText(T)||i.isInline(e,T),mode:P?"lowest":"highest",always:P&&(!f||A.length>0)&&(!p||v.length>0),voids:o});const z=i.pathRef(e,!_||_&&G?d.next(b):b);if(F.insertNodes(e,A,{at:z.current,match:T=>R.isText(T)||i.isInline(e,T),mode:"highest",voids:o,batchDirty:a}),h&&!A.length&&y.length&&!v.length&&F.delete(e,{at:c,voids:o}),F.insertNodes(e,y,{at:I.current,match:T=>N.isElement(T)&&i.isBlock(e,T),mode:"lowest",voids:o,batchDirty:a}),F.insertNodes(e,v,{at:ae.current,match:T=>R.isText(T)||i.isInline(e,T),mode:"highest",voids:o,batchDirty:a}),!n.at){let T;if(v.length>0&&ae.current?T=d.previous(ae.current):y.length>0&&I.current?T=d.previous(I.current):z.current&&(T=d.previous(z.current)),T){const $=i.end(e,T);F.select(e,$)}}z.unref(),I.unref(),ae.unref()})},Qu=(e,t={})=>{const{edge:n="anchor"}=t,{selection:r}=e;if(r){if(n==="anchor")F.select(e,r.anchor);else if(n==="focus")F.select(e,r.focus);else if(n==="start"){const[o]=D.edges(r);F.select(e,o)}else if(n==="end"){const[,o]=D.edges(r);F.select(e,o)}}else return},ec=e=>{const{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},tc=(e,t={})=>{const{selection:n}=e,{distance:r=1,unit:o="character",reverse:s=!1}=t;let{edge:a=null}=t;if(!n)return;a==="start"&&(a=D.isBackward(n)?"focus":"anchor"),a==="end"&&(a=D.isBackward(n)?"anchor":"focus");const{anchor:u,focus:l}=n,c={distance:r,unit:o},f={};if(a==null||a==="anchor"){const p=s?i.before(e,u,c):i.after(e,u,c);p&&(f.anchor=p)}if(a==null||a==="focus"){const p=s?i.before(e,l,c):i.after(e,l,c);p&&(f.focus=p)}F.setSelection(e,f)},nc=(e,t)=>{const{selection:n}=e;if(t=i.range(e,t),n){F.setSelection(e,t);return}if(!D.isRange(t))throw new Error(`When setting the selection and the current selection is \`null\` you must provide at least an \`anchor\` and \`focus\`, but you passed: ${se.stringify(t)}`);e.apply({type:"set_selection",properties:n,newProperties:t})},sc=(e,t,n={})=>{const{selection:r}=e;let{edge:o="both"}=n;if(!r)return;o==="start"&&(o=D.isBackward(r)?"focus":"anchor"),o==="end"&&(o=D.isBackward(r)?"anchor":"focus");const{anchor:s,focus:a}=r,u=o==="anchor"?s:a;F.setSelection(e,{[o==="anchor"?"anchor":"focus"]:{...u,...t}})},rc=(e,t)=>{const{selection:n}=e,r={},o={};if(n){for(const s in t)(s==="anchor"&&t.anchor!=null&&!H.equals(t.anchor,n.anchor)||s==="focus"&&t.focus!=null&&!H.equals(t.focus,n.focus)||s!=="anchor"&&s!=="focus"&&t[s]!==n[s])&&(r[s]=n[s],o[s]=t[s]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},oc=(e,t,n={})=>{i.withoutNormalizing(e,()=>{const{hanging:r=!1,voids:o=!1,mode:s="lowest",batchDirty:a=!0}=n;let{at:u,match:l,select:c}=n;if(x.isNode(t)&&(t=[t]),t.length===0)return;const[f]=t;if(u||(u=zt(e),c!==!1&&(c=!0)),c==null&&(c=!1),D.isRange(u))if(r||(u=i.unhangRange(e,u,{voids:o})),D.isCollapsed(u))u=u.anchor;else{const[,g]=D.edges(u),C=i.pointRef(e,g);F.delete(e,{at:u}),u=C.unref()}if(H.isPoint(u)){l==null&&(R.isText(f)?l=C=>R.isText(C):e.isInline(f)?l=C=>R.isText(C)||i.isInline(e,C):l=C=>N.isElement(C)&&i.isBlock(e,C));const[g]=i.nodes(e,{at:u.path,match:l,mode:s,voids:o});if(g){const[,C]=g,B=i.pathRef(e,C),E=i.isEnd(e,u,C);F.splitNodes(e,{at:u,match:l,mode:s,voids:o});const A=B.unref();u=E?d.next(A):A}else return}const p=d.parent(u);let h=u[u.length-1];if(!(!o&&i.void(e,{at:p}))){if(a){const g=[],C=d.levels(p);Ui(e,()=>{for(const B of t){const E=p.concat(h);h++;const A={type:"insert_node",path:E,node:B};e.apply(A),u=d.next(u),g.push(A),R.isText(B)?C.push(E):C.push(...Array.from(x.nodes(B),([,y])=>E.concat(y)))}},()=>{Cs(e,C,B=>{let E=B;for(const A of g)if(d.operationCanTransformPath(A)&&(E=d.transform(E,A),!E))return null;return E})})}else for(const g of t){const C=p.concat(h);h++,e.apply({type:"insert_node",path:C,node:g}),u=d.next(u)}if(u=d.previous(u),c){const g=i.end(e,u);g&&F.select(e,g)}}})},ac=(e,t={})=>{i.withoutNormalizing(e,()=>{const{at:n=e.selection,mode:r="lowest",voids:o=!1}=t;let{match:s}=t;if(s==null&&(s=d.isPath(n)?Ue(e,n):l=>N.isElement(l)&&i.isBlock(e,l)),!n)return;const a=i.nodes(e,{at:n,match:s,mode:r,voids:o}),u=Array.from(a,([,l])=>i.pathRef(e,l));for(const l of u){const c=l.unref();if(c.length<2)throw new Error(`Cannot lift node at a path [${c}] because it has a depth of less than \`2\`.`);const f=i.node(e,d.parent(c)),[p,h]=f,g=c[c.length-1],{length:C}=p.children;if(C===1){const B=d.next(h);F.moveNodes(e,{at:c,to:B,voids:o}),F.removeNodes(e,{at:h,voids:o})}else if(g===0)F.moveNodes(e,{at:c,to:h,voids:o});else if(g===C-1){const B=d.next(h);F.moveNodes(e,{at:c,to:B,voids:o})}else{const B=d.next(c),E=d.next(h);F.splitNodes(e,{at:B,voids:o}),F.moveNodes(e,{at:c,to:E,voids:o})}}})},ms=(e,t)=>{if(N.isElement(t)){const n=t;return i.isVoid(e,t)?!0:n.children.length===1?ms(e,n.children[0]):!1}else return!i.isEditor(t)},ic=(e,t={})=>{i.withoutNormalizing(e,()=>{let{match:n,at:r=e.selection}=t;const{hanging:o=!1,voids:s=!1,mode:a="lowest"}=t;if(!r)return;if(n==null)if(d.isPath(r)){const[b]=i.parent(e,r);n=_=>b.children.includes(_)}else n=b=>N.isElement(b)&&i.isBlock(e,b);if(!o&&D.isRange(r)&&(r=i.unhangRange(e,r,{voids:s})),D.isRange(r))if(D.isCollapsed(r))r=r.anchor;else{const[,b]=D.edges(r),_=i.pointRef(e,b);F.delete(e,{at:r}),r=_.unref(),t.at==null&&F.select(e,r)}const[u]=i.nodes(e,{at:r,match:n,voids:s,mode:a}),l=i.previous(e,{at:r,match:n,voids:s,mode:a});if(!u||!l)return;const[c,f]=u,[p,h]=l;if(f.length===0||h.length===0)return;const g=d.next(h),C=d.common(f,h),B=d.isSibling(f,h),E=Array.from(i.levels(e,{at:f}),([b])=>b).slice(C.length).slice(0,-1),A=i.above(e,{at:f,mode:"highest",match:b=>E.includes(b)&&ms(e,b)}),y=A&&i.pathRef(e,A[1]);let v,S;if(R.isText(c)&&R.isText(p)){const{text:b,..._}=c;S=p.text.length,v=_}else if(N.isElement(c)&&N.isElement(p)){const{children:b,..._}=c;S=p.children.length,v=_}else throw new Error(`Cannot merge the node at path [${f}] with the previous sibling because it is not the same kind: ${se.stringify(c)} ${se.stringify(p)}`);B||F.moveNodes(e,{at:f,to:g,voids:s}),y&&F.removeNodes(e,{at:y.current,voids:s}),i.shouldMergeNodesRemovePrevNode(e,l,u)?F.removeNodes(e,{at:h,voids:s}):e.apply({type:"merge_node",path:g,position:S,properties:v}),y&&y.unref()})},uc=(e,t)=>{i.withoutNormalizing(e,()=>{const{to:n,at:r=e.selection,mode:o="lowest",voids:s=!1}=t;let{match:a}=t;if(!r)return;a==null&&(a=d.isPath(r)?Ue(e,r):f=>N.isElement(f)&&i.isBlock(e,f));const u=i.pathRef(e,n),l=i.nodes(e,{at:r,match:a,mode:o,voids:s}),c=Array.from(l,([,f])=>i.pathRef(e,f));for(const f of c){const p=f.unref(),h=u.current;p.length!==0&&e.apply({type:"move_node",path:p,newPath:h}),u.current&&d.isSibling(h,p)&&d.isAfter(h,p)&&(u.current=d.next(u.current))}u.unref()})},cc=(e,t={})=>{i.withoutNormalizing(e,()=>{const{hanging:n=!1,voids:r=!1,mode:o="lowest"}=t;let{at:s=e.selection,match:a}=t;if(!s)return;a==null&&(a=d.isPath(s)?Ue(e,s):c=>N.isElement(c)&&i.isBlock(e,c)),!n&&D.isRange(s)&&(s=i.unhangRange(e,s,{voids:r}));const u=i.nodes(e,{at:s,match:a,mode:o,voids:r}),l=Array.from(u,([,c])=>i.pathRef(e,c));for(const c of l){const f=c.unref();if(f){const[p]=i.node(e,f);e.apply({type:"remove_node",path:f,node:p})}}})},lc=(e,t,n={})=>{i.withoutNormalizing(e,()=>{let{match:r,at:o=ke(e.selection),compare:s}=n;const{merge:a}=n,{hanging:u=!1,mode:l="lowest",split:c=!1,voids:f=!1}=n;if(o){if(r==null&&(r=d.isPath(o)?Ue(e,o):p=>N.isElement(p)&&i.isBlock(e,p)),!u&&D.isRange(o)&&(o=i.unhangRange(e,o,{voids:f})),c&&D.isRange(o)){if(D.isCollapsed(o)&&i.leaf(e,o.anchor)[0].text.length>0)return;const p=i.rangeRef(e,o,{affinity:"inward"}),[h,g]=D.edges(o),C=l==="lowest"?"lowest":"highest",B=i.isEnd(e,g,g.path);F.splitNodes(e,{at:g,match:r,mode:C,voids:f,always:!B});const E=i.isStart(e,h,h.path);F.splitNodes(e,{at:h,match:r,mode:C,voids:f,always:!E}),o=p.unref(),n.at==null&&F.select(e,o)}s||(s=(p,h)=>p!==h);for(const[p,h]of i.nodes(e,{at:o,match:r,mode:l,voids:f})){const g={},C={};if(h.length===0)continue;let B=!1;for(const E in t)E==="children"||E==="text"||s(t[E],p[E])&&(B=!0,Object.prototype.hasOwnProperty.call(p,E)&&(g[E]=p[E]),a?t[E]!=null&&(C[E]=a(p[E],t[E])):t[E]!=null&&(C[E]=t[E]));B&&e.apply({type:"set_node",path:h,properties:g,newProperties:C})}}})},fc=(e,t)=>{if(D.isCollapsed(t))return t.anchor;{const[,n]=D.edges(t),r=i.pointRef(e,n);return F.delete(e,{at:t}),r.unref()}},dc=(e,t={})=>{i.withoutNormalizing(e,()=>{const{mode:n="lowest",voids:r=!1}=t;let{match:o,at:s=ke(e.selection),height:a=0,always:u=!1}=t;if(o==null&&(o=f=>N.isElement(f)&&i.isBlock(e,f)),D.isRange(s)&&(s=fc(e,s)),d.isPath(s)){const f=s,p=i.point(e,f),[h]=i.parent(e,f);o=g=>g===h,a=p.path.length-f.length+1,s=p,u=!0}if(!s)return;const l=i.pointRef(e,s,{affinity:"backward"});let c;try{const[f]=i.nodes(e,{at:s,match:o,mode:n,voids:r});if(!f)return;const p=i.void(e,{at:s,mode:"highest"}),h=0;if(!r&&p){const[A,y]=p;if(N.isElement(A)&&e.isInline(A)){let S=i.after(e,y);if(!S){const b={text:""},_=d.next(y);F.insertNodes(e,b,{at:_,voids:r}),S=i.point(e,_)}s=S,u=!0}a=s.path.length-y.length+1,u=!0}c=i.pointRef(e,s);const g=s.path.length-a,[,C]=f,B=s.path.slice(0,g);let E=a===0?s.offset:s.path[g]+h;for(const[A,y]of i.levels(e,{at:B,reverse:!0,voids:r})){let v=!1;if(y.length<C.length||y.length===0||!r&&N.isElement(A)&&i.isVoid(e,A))break;const S=l.current,b=i.isEnd(e,S,y);if(u||!l||!i.isEdge(e,S,y)){v=!0;const _=x.extractProps(A);e.apply({type:"split_node",path:y,position:E,properties:_})}E=y[y.length-1]+(v||b?1:0)}if(t.at==null){const A=c.current||i.end(e,[]);F.select(e,A)}}finally{l.unref(),c?.unref()}})},hc=(e,t,n={})=>{Array.isArray(t)||(t=[t]);const r={};for(const o of t)r[o]=null;F.setNodes(e,r,n)},pc=(e,t={})=>{i.withoutNormalizing(e,()=>{const{mode:n="lowest",split:r=!1,voids:o=!1}=t;let{at:s=ke(e.selection),match:a}=t;if(!s)return;a==null&&(a=d.isPath(s)?Ue(e,s):f=>N.isElement(f)&&i.isBlock(e,f)),d.isPath(s)&&(s=i.range(e,s));const u=D.isRange(s)?i.rangeRef(e,s):null,l=i.nodes(e,{at:s,match:a,mode:n,voids:o}),c=Array.from(l,([,f])=>i.pathRef(e,f)).reverse();for(const f of c){const p=f.unref(),[h]=i.node(e,p);let g=i.range(e,p);r&&u&&(g=D.intersection(u.current,g)),F.liftNodes(e,{at:g,match:C=>N.isAncestor(h)&&h.children.includes(C),voids:o})}u&&u.unref()})},gc=(e,t,n={})=>{i.withoutNormalizing(e,()=>{const{mode:r="lowest",split:o=!1,voids:s=!1}=n;let{match:a,at:u=ke(e.selection)}=n;if(!u)return;if(a==null&&(d.isPath(u)?a=Ue(e,u):e.isInline(t)?a=c=>N.isElement(c)&&i.isInline(e,c)||R.isText(c):a=c=>N.isElement(c)&&i.isBlock(e,c)),o&&D.isRange(u)){const[c,f]=D.edges(u),p=i.rangeRef(e,u,{affinity:"inward"}),h=g=>{const C=i.above(e,{at:g,match:B=>N.isElement(B)&&i.isBlock(e,B)});return C&&i.isEdge(e,g,C[1])};F.splitNodes(e,{at:f,match:a,voids:s,always:!h(f)}),F.splitNodes(e,{at:c,match:a,voids:s,always:!h(c)}),u=p.unref(),n.at==null&&F.select(e,u)}const l=Array.from(i.nodes(e,{at:u,match:e.isInline(t)?c=>N.isElement(c)&&i.isBlock(e,c):c=>i.isEditor(c),mode:"lowest",voids:s}));for(const[,c]of l){const f=D.isRange(u)?D.intersection(u,i.range(e,c)):u;if(!f)continue;const p=Array.from(i.nodes(e,{at:f,match:a,mode:r,voids:s}));if(p.length>0){const[h]=p,g=p[p.length-1],[,C]=h,[,B]=g;if(C.length===0&&B.length===0)continue;const E=d.equals(C,B)?d.parent(C):d.common(C,B),A=i.range(e,C,B),y=i.node(e,E),[v]=y,S=E.length+1,b=d.next(B.slice(0,S)),_={...t,children:[]};F.insertNodes(e,_,{at:b,voids:s}),F.moveNodes(e,{at:A,match:G=>N.isAncestor(v)&&v.children.includes(G),to:b.concat(0),voids:s})}}})},yl=()=>{const e=Lt({children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:(...n)=>Ki(e,...n),addMark:(...n)=>Zi(e,...n),deleteBackward:(...n)=>tu(e,...n),deleteForward:(...n)=>nu(e,...n),deleteFragment:(...n)=>su(e,...n),getFragment:(...n)=>Gi(e,...n),insertBreak:(...n)=>pu(e,...n),insertSoftBreak:(...n)=>Cu(e,...n),insertFragment:(...n)=>Zu(e,...n),insertNode:(...n)=>gu(e,...n),insertText:(...n)=>mu(e,...n),normalizeNode:(...n)=>Yi(e,...n),removeMark:(...n)=>Vu(e,...n),getDirtyPaths:(...n)=>qi(e,...n),shouldNormalize:(...n)=>Xi(e,...n),above:(...n)=>Ji(e,...n),after:(...n)=>Qi(e,...n),before:(...n)=>eu(e,...n),collapse:(...n)=>Qu(e,...n),delete:(...n)=>Ju(e,...n),deselect:(...n)=>ec(e,...n),edges:(...n)=>ru(e,...n),elementReadOnly:(...n)=>ou(e,...n),end:(...n)=>au(e,...n),first:(...n)=>iu(e,...n),fragment:(...n)=>uu(e,...n),getMarks:(...n)=>vu(e,...n),hasBlocks:(...n)=>lu(e,...n),hasInlines:(...n)=>fu(e,...n),hasPath:(...n)=>du(e,...n),hasTexts:(...n)=>hu(e,...n),insertNodes:(...n)=>oc(e,...n),isBlock:(...n)=>Bu(e,...n),isEdge:(...n)=>Eu(e,...n),isEmpty:(...n)=>Du(e,...n),isEnd:(...n)=>wu(e,...n),isNormalizing:(...n)=>Au(e,...n),isStart:(...n)=>yu(e,...n),last:(...n)=>Fu(e,...n),leaf:(...n)=>bu(e,...n),levels:(...n)=>xu(e,...n),liftNodes:(...n)=>ac(e,...n),mergeNodes:(...n)=>ic(e,...n),move:(...n)=>tc(e,...n),moveNodes:(...n)=>uc(e,...n),next:(...n)=>ku(e,...n),node:(...n)=>Tu(e,...n),nodes:(...n)=>Nu(e,...n),normalize:(...n)=>Su(e,...n),parent:(...n)=>Ru(e,...n),path:(...n)=>Ou(e,...n),pathRef:(...n)=>_u(e,...n),pathRefs:(...n)=>Pu(e,...n),point:(...n)=>Mu(e,...n),pointRef:(...n)=>Iu(e,...n),pointRefs:(...n)=>Lu(e,...n),positions:(...n)=>$u(e,...n),previous:(...n)=>ju(e,...n),range:(...n)=>zu(e,...n),rangeRef:(...n)=>Wu(e,...n),rangeRefs:(...n)=>Hu(e,...n),removeNodes:(...n)=>cc(e,...n),select:(...n)=>nc(e,...n),setNodes:(...n)=>lc(e,...n),setNormalizing:(...n)=>Uu(e,...n),setPoint:(...n)=>sc(e,...n),setSelection:(...n)=>rc(e,...n),splitNodes:(...n)=>dc(e,...n),start:(...n)=>Ku(e,...n),string:(...n)=>qu(e,...n),unhangRange:(...n)=>Gu(e,...n),unsetNodes:(...n)=>hc(e,...n),unwrapNodes:(...n)=>pc(e,...n),void:(...n)=>cu(e,...n),withoutNormalizing:(...n)=>Yu(e,...n),wrapNodes:(...n)=>gc(e,...n),shouldMergeNodesRemovePrevNode:(...n)=>Xu(e,...n)}),t=On([]);return Object.defineProperty(e,"children",{get(){return t},set(n){t.length=0,t.push(...n)}}),ps.add(e),e},Kt=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,Cc=e=>we(e)&&e.nodeType===8,de=e=>we(e)&&e.nodeType===1,we=e=>{const t=Kt(e);return!!t&&(e instanceof t.Node||e instanceof globalThis.Node)},Pt=e=>{const t=e&&e.anchorNode&&Kt(e.anchorNode);return!!t&&e instanceof t.Selection},Bs=e=>we(e)&&e.nodeType===3,mc=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,Bc=e=>{let[t,n]=e;if(de(t)&&t.childNodes.length){let r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=Es(t,o,r?"backward":"forward"),r=o<n;de(t)&&t.childNodes.length;){const s=r?t.childNodes.length-1:0;t=Dc(t,s,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},Ec=e=>{let t=e&&e.parentNode;for(;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},Es=(e,t,n)=>{const{childNodes:r}=e;let o=r[t],s=t,a=!1,u=!1;for(;(Cc(o)||de(o)&&o.childNodes.length===0||de(o)&&o.getAttribute("contenteditable")==="false")&&!(a&&u);){if(s>=r.length){a=!0,s=t-1,n="backward";continue}if(s<0){u=!0,s=t+1,n="forward";continue}o=r[s],t=s,s+=n==="forward"?1:-1}for(;o.nodeType===3&&o.textContent==="";)t+=n==="forward"?1:-1,o=r[t];if(!o)throw new Error(`Compact on vue3 empty childNode: Failed to find adjacent nodes: ${se.stringify(o)}`);return[o,t]},Dc=(e,t,n)=>{const[r]=Es(e,t,n);return r},Ds=e=>{let t="";if(Bs(e)&&e.nodeValue)return e.nodeValue;if(de(e)){for(const r of Array.from(e.childNodes))t+=Ds(r);const n=getComputedStyle(e).getPropertyValue("display");(n==="block"||n==="list"||e.tagName==="BR")&&(t+=`
`)}return t},wc=/data-slate-fragment="(.+?)"/m,Ac=e=>{const t=e.getData("text/html"),[,n]=t.match(wc)||[];return n},$e=e=>e.getSelection!=null?e.getSelection():document.getSelection(),yc=()=>{let e=document.activeElement;for(;e?.shadowRoot&&e.shadowRoot?.activeElement;)e=e?.shadowRoot?.activeElement;return e},yn=(e,t)=>!!(e.compareDocumentPosition(t)&globalThis.Node.DOCUMENT_POSITION_PRECEDING),Fc=(e,t)=>!!(e.compareDocumentPosition(t)&globalThis.Node.DOCUMENT_POSITION_FOLLOWING),bc=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Fn=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),le=typeof navigator<"u"&&/Android/.test(navigator.userAgent),me=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ye=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),xc=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),qt=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),ws=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),vc=le&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),kc=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),Tc=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),Nc=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent)&&(!qt||ws),kt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&(navigator.userAgent.match(/Version\/(\d+)/)?.[1]&&parseInt(navigator.userAgent.match(/Version\/(\d+)/)?.[1],10)<17);const Oe=(!ws||!vc)&&!xc&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";let Sc=0;class As{id;constructor(){this.id=`${Sc++}`}}class Ft extends WeakMap{constructor(){super()}delete(t){return super.delete(Qe(t))}get(t){return super.get(Qe(t))}has(t){return super.has(Qe(t))}set(t,n){return super.set(Qe(t),n)}}const Fe=new Ft,st=new Ft,ys=new WeakMap,rt=new WeakMap,ct=new WeakMap,He=new Ft,Et=new Ft,bt=new WeakMap,Ot=new WeakMap,De=new WeakMap,Le=new WeakMap,ot=new WeakMap,It=new WeakMap,Dt=new WeakMap,Fs=Symbol("mark-placeholder");function Ze([e,t]){if(e.nodeType!==3||e.textContent!=="")return[e,t];{const n=e.previousSibling===null;let r=e[n?"nextSibling":"previousSibling"];for(;r?.firstChild;)r=n?r.firstChild:r.lastChild;if(!r)throw new Error(`Compact on vue3 empty childNode: Failed to find adjacent nodes: ${se.stringify(e)}`);return[r,n?0:r.textContent?.length||0]}}const w={blur:e=>{const t=w.toDOMNode(e,e),n=w.findDocumentOrShadowRoot(e);De.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{const{selection:t}=e,n=w.findDocumentOrShadowRoot(e),r=$e(n);r&&r.rangeCount>0&&r.removeAllRanges(),t&&F.deselect(e)},findDocumentOrShadowRoot:e=>{const t=w.toDOMNode(e,e),n=t.getRootNode();return n instanceof Document||n instanceof ShadowRoot?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);const{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error(`Cannot resolve a Slate range from a DOM event: ${t}`);const s=w.toSlateNode(e,t.target),a=w.findPath(e,s);if(N.isElement(s)&&i.isVoid(e,s)){const f=o.getBoundingClientRect(),p=e.isInline(s)?n-f.left<f.left+f.width-n:r-f.top<f.top+f.height-r,h=i.point(e,a,{edge:p?"start":"end"}),g=p?i.before(e,h):i.after(e,h);if(g)return i.range(e,g)}let u;const{document:l}=w.getWindow(e);if(l.caretRangeFromPoint)u=l.caretRangeFromPoint(n,r);else{const f=l.caretPositionFromPoint(n,r);f&&(u=l.createRange(),u.setStart(f.offsetNode,f.offset),u.setEnd(f.offsetNode,f.offset))}if(!u)throw new Error(`Cannot resolve a Slate range from a DOM event: ${t}`);return w.toSlateRange(e,u,{exactMatch:!1,suppressThrow:!1})},findKey:(e,t)=>{let n=Et.get(t);return n||(n=new As,Et.set(t,n)),n},findPath:(e,t)=>{const n=[];let r=t;for(;;){const o=st.get(r);if(o==null){if(i.isEditor(r))return n;break}const s=Fe.get(r);if(s==null)break;n.unshift(s),r=o}throw new Error(`Unable to find the path for Slate node: ${se.stringify(t)}`)},focus:e=>{if(De.get(e)||!rt.get(e))return;const t=w.toDOMNode(e,e),n=w.findDocumentOrShadowRoot(e);if(n.activeElement!==t){if(e.selection&&n instanceof Document){const r=$e(n),o=w.toDOMRange(e,e.selection);r?.removeAllRanges(),r?.addRange(o)}e.selection||F.select(e,i.start(e,[])),De.set(e,!0),t.focus({preventScroll:!0})}},getWindow:e=>{const t=ys.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:(e,t,n={})=>{const{editable:r=!1}=n,o=w.toDOMNode(e,e);let s;try{s=de(t)?t:t.parentElement}catch(a){if(a instanceof Error&&!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===o&&(!r||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===o||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>we(t)&&w.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{const{anchor:n,focus:r}=t;return i.hasPath(e,n.path)&&i.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>w.hasEditableTarget(e,t)||w.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>we(t)&&w.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!Le.get(e),isFocused:e=>!!De.get(e),isReadOnly:e=>!!Ot.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(Ot.get(e))return!1;const n=w.hasTarget(e,t)&&w.toSlateNode(e,t);return N.isElement(n)&&i.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{const n=bt.get(e),r=i.isEditor(t)?rt.get(e):n?.get(w.findKey(e,t));if(!r)throw new Error(`Cannot resolve a DOM node from Slate node: ${se.stringify(t)}`);return r},toDOMPoint:(e,t)=>{const[n]=i.node(e,t.path),r=w.toDOMNode(e,n);let o;i.void(e,{at:t})&&(t={path:t.path,offset:0});const a=Array.from(r.querySelectorAll("[data-slate-string], [data-slate-zero-width]"));let u=0;for(let l=0;l<a.length;l++){const c=a[l],f=c.childNodes[0];if(f==null||f.textContent==null)continue;const{length:p}=f.textContent,h=c.getAttribute("data-slate-length"),g=h==null?p:parseInt(h,10),C=u+g,B=a[l+1];if(t.offset===C&&B?.hasAttribute("data-slate-mark-placeholder")){const E=B.childNodes[0];o=[E instanceof globalThis.Text?E:B,B.textContent?.startsWith("\uFEFF")?1:0];break}if(t.offset<=C){const E=Math.min(p,Math.max(0,t.offset-u));o=[f,E];break}u=C}if(!o)throw new Error(`Cannot resolve a DOM point from Slate point: ${se.stringify(t)}`);return o},toDOMRange:(e,t)=>{const{anchor:n,focus:r}=t,o=D.isBackward(t),s=w.toDOMPoint(e,n),a=D.isCollapsed(t)?s:w.toDOMPoint(e,r),l=w.getWindow(e).document.createRange(),[c,f]=o?a:s,[p,h]=o?s:a,C=!!(de(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),E=!!(de(p)?p:p.parentElement).getAttribute("data-slate-zero-width");return l.setStart(c,C?1:f),l.setEnd(p,E?1:h),l},toSlateNode:(e,t)=>{let n=de(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));const r=n?ct.get(n):null;if(!r)throw new Error(`Cannot resolve a Slate node from DOM node: ${n}`);return r},toSlatePoint:(e,t,n)=>{const{exactMatch:r,suppressThrow:o,searchDirection:s}=n,[a,u]=Ze(r?t:Bc(t)),l=a.parentNode;let c=null,f=0;if(l){const g=w.toDOMNode(e,e),C=l.closest('[data-slate-void="true"]'),B=C&&g.contains(C)?C:null,E=l.closest('[contenteditable="false"]'),A=E&&g.contains(E)?E:null;let y=l.closest("[data-slate-leaf]"),v=null;if(y){if(c=y.closest('[data-slate-node="text"]'),c){const b=w.getWindow(e).document.createRange();b.setStart(c,0),b.setEnd(a,u);const _=b.cloneContents();[...Array.prototype.slice.call(_.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(_.querySelectorAll("[contenteditable=false]"))].forEach(I=>{if(le&&!r&&I.hasAttribute("data-slate-zero-width")&&I.textContent.length>0&&I.textContext!=="\uFEFF"){I.textContent.startsWith("\uFEFF")&&(I.textContent=I.textContent.slice(1));return}I.parentNode.removeChild(I)}),f=_.textContent.length,v=c}}else if(B){const S=B.querySelectorAll("[data-slate-leaf]");for(let b=0;b<S.length;b++){const _=S[b];if(w.hasDOMNode(e,_)){y=_;break}}y?(c=y.closest('[data-slate-node="text"]'),v=y,f=v.textContent.length,v.querySelectorAll("[data-slate-zero-width]").forEach(b=>{f-=b.textContent.length})):f=1}else if(A){const S=_=>_?_.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],b=A.closest('[data-slate-node="element"]');(s==="backward"||!s)&&(y=[...S(b?.previousElementSibling),...S(b)].findLast(G=>yn(A,G))??null),(s==="forward"||!s)&&(y=[...S(b),...S(b?.nextElementSibling)].find(G=>Fc(A,G))??null),y&&(c=y.closest('[data-slate-node="text"]'),v=y,s==="forward"?f=0:(f=v.textContent.length,v.querySelectorAll("[data-slate-zero-width]").forEach(_=>{f-=_.textContent.length})))}v&&f===v.textContent.length&&le&&v.getAttribute("data-slate-zero-width")==="z"&&v.textContent?.startsWith("\uFEFF")&&(l.hasAttribute("data-slate-zero-width")||me&&v.textContent?.endsWith(`

`))&&f--}if(le&&!c&&!r){const g=l.hasAttribute("data-slate-node")?l:l.closest("[data-slate-node]");if(g&&w.hasDOMNode(e,g,{editable:!0})){const C=w.toSlateNode(e,g),B=i.start(e,w.findPath(e,C)),{path:E}=B;let{offset:A}=B;return g.querySelector("[data-slate-leaf]")||(A=u),{path:E,offset:A}}}if(!c){if(o)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${t}`)}const p=w.toSlateNode(e,c);return{path:w.findPath(e,p),offset:f}},toSlateRange:(e,t,n)=>{const{exactMatch:r,suppressThrow:o}=n,s=Pt(t)?t.anchorNode:t.startContainer;let a,u,l,c,f;if(s){if(Pt(t)){if(a=t.anchorNode,u=t.anchorOffset,l=t.focusNode,c=t.focusOffset,me)if((a instanceof HTMLElement?a.attributes:null)?.getNamedItem("data-slate-editor")){for(;a instanceof HTMLElement&&a.firstElementChild;)a=a.firstElementChild;for(;l instanceof HTMLElement&&l.lastElementChild;)l=l.lastElementChild;a=a?.firstChild,u=0,l=l?.lastChild,c=l?.textContent?.length||0}else{if(a){const[E,A]=Ze([a,u]);a=E,u=A}if(l){const[E,A]=Ze([l,c]);l=E,c=A}}if(!a||!l)return null;qt&&Ec(a)||me?f=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:f=t.isCollapsed}else if(a=t.startContainer,u=t.startOffset,l=t.endContainer,c=t.endOffset,f=t.collapsed,me){if(a){const[B,E]=Ze([a,u]);a=B,u=E}if(l){const[B,E]=Ze([l,c]);l=B,c=E}}}if(a==null||l==null||u==null||c==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${t}`);me&&l.textContent?.endsWith(`

`)&&c===l.textContent.length&&c--;const p=w.toSlatePoint(e,[a,u],{exactMatch:r,suppressThrow:o});if(!p)return null;const h=yn(a,l)||a===l&&c<u,g=f?p:w.toSlatePoint(e,[l,c],{exactMatch:r,suppressThrow:o,searchDirection:h?"forward":"backward"});if(!g)return null;let C={anchor:p,focus:g};return D.isExpanded(C)&&D.isForward(C)&&de(l)&&i.void(e,{at:C.focus,mode:"highest"})&&(C=i.unhangRange(e,C,{voids:!0})),C}},bn=(e,t)=>{const n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},xn=(e,t,n)=>{const r=w.toDOMRange(e,t).getBoundingClientRect(),o=w.toDOMRange(e,n).getBoundingClientRect();return bn(r,o)&&bn(o,r)},Rc=(e,t)=>{const n=i.range(e,D.end(t)),r=Array.from(i.positions(e,{at:t}));let o=0,s=r.length,a=Math.floor(s/2);if(xn(e,i.range(e,r[o]),n))return i.range(e,r[o],n);if(r.length<2)return i.range(e,r[r.length-1],n);for(;a!==r.length&&a!==o;)xn(e,i.range(e,r[a]),n)?s=a:o=a,a=Math.floor((o+s)/2);return i.range(e,r[o],n)},vn=new WeakMap,bs=(e,t)=>{const n=w.findKey(e,t);let r=vn.get(n);return r||(r={type:"root",movedNodeKeys:new Set,children:Lt([])},vn.set(n,r)),r};class _c{root;chunkSize;debug;reachedEnd;pointerChunk;pointerIndex;pointerIndexStack;cachedPointerNode;constructor(t,{chunkSize:n,debug:r}){this.root=t,this.chunkSize=n,this.debug=r??!1,this.pointerChunk=t,this.pointerIndex=-1,this.pointerIndexStack=[],this.reachedEnd=!1,this.validateState()}readLeaf(){if(this.reachedEnd)return null;for(;;)if(this.pointerIndex+1<this.pointerSiblings.length){this.pointerIndex++,this.cachedPointerNode=void 0;break}else{if(this.pointerChunk.type==="root")return this.reachedEnd=!0,null;this.exitChunk()}return this.validateState(),this.enterChunkUntilLeaf(!1),this.pointerNode}returnToPreviousLeaf(){if(this.reachedEnd){this.reachedEnd=!1,this.enterChunkUntilLeaf(!0);return}for(;;)if(this.pointerIndex>=1){this.pointerIndex--,this.cachedPointerNode=void 0;break}else if(this.pointerChunk.type==="root"){this.pointerIndex=-1;return}else this.exitChunk();this.validateState(),this.enterChunkUntilLeaf(!0)}insertBefore(t){this.returnToPreviousLeaf(),this.insertAfter(t),this.readLeaf()}insertAfter(t){if(t.length===0)return;let n=0,r=0;for(;this.pointerChunk.type==="chunk"&&this.pointerIndex===this.pointerSiblings.length-1;){const u=this.chunkSize-this.pointerSiblings.length,l=Math.min(u,t.length);if(l>0){const c=t.splice(0,l);this.rawInsertAfter(c,n)}this.exitChunk(),n++}if(t.length===0)return;const o=this.savePointer();let s=null;if(this.readLeaf())for(;this.pointerChunk.type==="chunk"&&this.pointerIndex===0;){const u=this.chunkSize-this.pointerSiblings.length,l=Math.min(u,t.length);if(l>0){const c=t.splice(-l,l);this.pointerIndex=-1,this.cachedPointerNode=void 0,this.rawInsertAfter(c,r),s||(s=this.savePointer())}this.exitChunk(),r++}this.restorePointer(o);const a=Math.max(n,r);this.rawInsertAfter(t,a),s&&this.restorePointer(s),this.validateState()}remove(){this.pointerSiblings.splice(this.pointerIndex--,1),this.cachedPointerNode=void 0,this.pointerSiblings.length===0&&this.pointerChunk.type==="chunk"&&(this.exitChunk(),this.remove()),this.validateState()}get atStart(){return this.pointerChunk.type==="root"&&this.pointerIndex===-1}get pointerSiblings(){return this.pointerChunk.children}getPointerNode(){return this.reachedEnd||this.pointerIndex===-1?null:this.pointerSiblings[this.pointerIndex]}get pointerNode(){if(this.cachedPointerNode!==void 0)return this.cachedPointerNode;const t=this.getPointerNode();return this.cachedPointerNode=t,t}getChunkPath(t){const n=[];for(let r=t;r.type==="chunk";r=r.parent){const o=r.parent.children.indexOf(r);if(o===-1)return null;n.unshift(o)}return n}savePointer(){if(this.atStart)return"start";if(!this.pointerNode)throw new Error("Cannot save pointer when pointerNode is null");return{chunk:this.pointerChunk,node:this.pointerNode}}restorePointer(t){if(t==="start"){this.pointerChunk=this.root,this.pointerIndex=-1,this.pointerIndexStack=[],this.reachedEnd=!1,this.cachedPointerNode=void 0;return}const{chunk:n,node:r}=t,o=n.children.indexOf(r);if(o===-1)throw new Error("Cannot restore point because saved node is no longer in saved chunk");const s=this.getChunkPath(n);if(!s)throw new Error("Cannot restore point because saved chunk is no longer connected to root");this.pointerChunk=n,this.pointerIndex=o,this.pointerIndexStack=s,this.reachedEnd=!1,this.cachedPointerNode=r,this.validateState()}enterChunk(t){if(this.pointerNode?.type!=="chunk")throw new Error("Cannot enter non-chunk");if(this.pointerIndexStack.push(this.pointerIndex),this.pointerChunk=this.pointerNode,this.pointerIndex=t?this.pointerSiblings.length-1:0,this.cachedPointerNode=void 0,this.validateState(),this.pointerChunk.children.length===0)throw new Error("Cannot enter empty chunk")}enterChunkUntilLeaf(t){for(;this.pointerNode?.type==="chunk";)this.enterChunk(t)}exitChunk(){if(this.pointerChunk.type==="root")throw new Error("Cannot exit root");const t=this.pointerChunk;this.pointerChunk=t.parent,this.pointerIndex=this.pointerIndexStack.pop(),this.cachedPointerNode=void 0,this.validateState()}rawInsertAfter(t,n){if(t.length===0)return;const r=(c,f,p)=>{if(p===1)return c;const h=[];for(let g=0;g<this.chunkSize;g++){const C=c.slice(g*p,(g+1)*p);if(C.length===0)break;const B={type:"chunk",key:new As,parent:f,children:[]};B.children=Lt(r(C,B,p/this.chunkSize)),h.push(B)}return h},o=this.pointerSiblings.length+t.length;let s=0;for(let c=this.chunkSize;c<o;c*=this.chunkSize)s++;const a=Math.max(s,n),u=Math.pow(this.chunkSize,a),l=r(t,this.pointerChunk,u);this.pointerSiblings.splice(this.pointerIndex+1,0,...l),this.pointerIndex+=l.length,this.cachedPointerNode=void 0,this.validateState()}validateState(){if(!this.debug)return;const t=r=>{if(r.type==="chunk"){const{parent:o,children:s}=r;if(!o.children.includes(r))throw new Error(`Debug: Chunk ${r.key.id} has an incorrect parent property`);s.forEach(t)}};if(this.root.children.forEach(t),this.cachedPointerNode!==void 0&&this.cachedPointerNode!==this.getPointerNode())throw new Error("Debug: The cached pointer is incorrect and has not been invalidated");const n=this.getChunkPath(this.pointerChunk);if(!n)throw new Error("Debug: The pointer chunk is not connected to the root");if(!d.equals(this.pointerIndexStack,n))throw new Error(`Debug: The cached index stack [${this.pointerIndexStack.join(", ")}] does not match the path of the pointer chunk [${n.join(", ")}]`)}}class Pc{editor;children;cachedKeys;pointerIndex;constructor(t){this.editor=t,this.children=t.children,this.cachedKeys=new Array(t.children.length),this.pointerIndex=0}read(t){if(t===1)return[this.children[this.pointerIndex++]];const n=this.remaining(t);return this.pointerIndex+=t,n}remaining(t){return t===void 0?this.children.slice(this.pointerIndex):this.children.slice(this.pointerIndex,this.pointerIndex+t)}get reachedEnd(){return this.pointerIndex>=this.children.length}lookAhead(t,n){const r=this.children.indexOf(t,this.pointerIndex);if(r>-1)return r-this.pointerIndex;for(let o=this.pointerIndex;o<this.children.length;o++){const s=this.children[o];if(this.findKey(s,o)===n)return o-this.pointerIndex}return-1}toChunkLeaves(t,n){return t.map((r,o)=>({type:"leaf",node:r,key:this.findKey(r,n+o),index:n+o}))}findKey(t,n){const r=this.cachedKeys[n];if(r)return r;const o=w.findKey(this.editor,t);return this.cachedKeys[n]=o,o}}const Oc=(e,{chunkTree:t,chunkSize:n,onInsert:r,onUpdate:o,onIndexChange:s,debug:a})=>{const u=new _c(t,{chunkSize:n,debug:a}),l=new Pc(e);let c;for(;c=u.readLeaf();){const f=l.lookAhead(c.node,c.key),p=f>0&&t.movedNodeKeys.has(c.key);if(f===-1||p){u.remove();continue}const h=l.pointerIndex,g=l.read(f+1),C=g.pop();if(g.length){const E=l.toChunkLeaves(g,h);if(u.insertBefore(E),r)for(let A=0;A<g.length;A++)r(g[A],h+A)}const B=l.pointerIndex-1;c.node!==C&&(c.node=C,o?.(C,B)),c.index!==B&&(c.index=B,s?.(C,B))}if(!l.reachedEnd){const f=l.remaining();if(f.length){const p=l.toChunkLeaves(f,l.pointerIndex);if(u.returnToPreviousLeaf(),u.insertAfter(p),r)for(let h=0;h<f.length;h++)r(f[h],l.pointerIndex+h)}}t.movedNodeKeys.clear()},Fl=(e,t="x-slate-fragment")=>{const n=e,{apply:r,onChange:o,deleteBackward:s,addMark:a,removeMark:u}=n;return bt.set(n,new WeakMap),n.addMark=(l,c)=>{Dt.delete(n),a(l,c)},n.removeMark=l=>{Dt.delete(n),u(l)},n.deleteBackward=l=>{if(l!=="line")return s(l);if(n.selection&&D.isCollapsed(n.selection)){const c=i.above(n,{match:f=>N.isElement(f)&&i.isBlock(n,f),at:n.selection});if(c){const[,f]=c,p=i.range(n,f,n.selection.anchor),h=Rc(n,p);D.isCollapsed(h)||F.delete(n,{at:h})}}},n.apply=l=>{if(l.type==="move_node"){const p=x.parent(n,l.path);if(!!n.getChunkSize(p)){const g=x.get(n,l.path),C=bs(n,p),B=w.findKey(n,g);C.movedNodeKeys.add(B)}}const c=[],f=[];switch(l.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{c.push(...Ie(n,l.path));break}case"set_selection":{ot.get(n)?.unref(),ot.delete(n);break}case"insert_node":case"remove_node":{c.push(...Ie(n,d.parent(l.path)));break}case"merge_node":{const p=d.previous(l.path);c.push(...Ie(n,p));break}case"move_node":{const p=d.common(d.parent(l.path),d.parent(l.newPath));c.push(...Ie(n,p));let h;d.isBefore(l.path,l.newPath)?(c.push(...Ie(n,d.parent(l.path))),h=l.newPath):(c.push(...Ie(n,d.parent(l.newPath))),h=l.path);const g=x.get(e,d.parent(h)),C=w.findKey(n,g),B=i.pathRef(n,d.parent(h));f.push([B,C]);break}}r(l);for(const[p,h]of c){const[g]=i.node(n,p);Et.set(g,h)}for(const[p,h]of f){if(p.current){const[g]=i.node(n,p.current);Et.set(g,h)}p.unref()}},n.setFragmentData=l=>{const{selection:c}=n;if(!c)return;const[f,p]=D.edges(c),h=i.void(n,{at:f.path}),g=i.void(n,{at:p.path});if(D.isCollapsed(c)&&!h)return;const C=w.toDOMRange(n,c);let B=C.cloneContents(),E=B.childNodes[0];if(B.childNodes.forEach(b=>{b.textContent&&b.textContent.trim()!==""&&(E=b)}),g){const[b]=g,_=C.cloneRange(),G=w.toDOMNode(n,b);_.setEndAfter(G),B=_.cloneContents()}if(h&&(E=B.querySelector("[data-slate-spacer]")),Array.from(B.querySelectorAll("[data-slate-zero-width]")).forEach(b=>{const _=b.getAttribute("data-slate-zero-width")==="n";b.textContent=_?`
`:""}),Bs(E)){const b=E.ownerDocument.createElement("span");b.style.whiteSpace="pre",b.appendChild(E),B.appendChild(b),E=b}const A=n.getFragment(),y=JSON.stringify(A),v=window.btoa(encodeURIComponent(y));E.setAttribute("data-slate-fragment",v),l.setData(`application/${t}`,v);const S=B.ownerDocument.createElement("div");return S.appendChild(B),S.setAttribute("hidden","true"),B.ownerDocument.body.appendChild(S),l.setData("text/html",S.innerHTML),l.setData("text/plain",Ds(S)),B.ownerDocument.body.removeChild(S),l},n.insertData=l=>{n.insertFragmentData(l)||n.insertTextData(l)},n.insertFragmentData=l=>{const c=l.getData(`application/${t}`)||Ac(l);if(c){const f=decodeURIComponent(window.atob(c)),p=JSON.parse(f);return n.insertFragment(p),!0}return!1},n.insertTextData=l=>{const c=l.getData("text/plain");if(c){const f=c.split(/\r\n|\r|\n/);let p=!1;for(const h of f)p&&F.splitNodes(n,{always:!0}),n.insertText(h),p=!0;return!0}return!1},n.getChunkSize=()=>null,n.onChange=l=>{const c=It.get(n);c&&c(l),o(l)},n},Ie=(e,t)=>{const n=[];for(const[r,o]of i.levels(e,{at:t})){const s=w.findKey(e,r);n.push([o,s])}return n};function Ic(e,...t){return t.reduce((n,r)=>n.slice(0,r.start)+r.text+n.slice(r.end),e)}function Lc(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function Mc(e,t,n){const r=Math.min(e.length,t.length,n);for(let o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function $c(e,t){const{start:n,end:r,text:o}=t,s=e.slice(n,r),a=Lc(s,o),u=Math.min(s.length-a,o.length-a),l=Mc(s,o,u),c={start:n+a,end:r-l,text:o.slice(a,o.length-l)};return c.start===c.end&&c.text.length===0?null:c}var bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fe={},kn;function Wc(){if(kn)return fe;kn=1,Object.defineProperty(fe,"__esModule",{value:!0});for(var e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),t={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},n={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},r={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=1;o<20;o++)r["f"+o]=111+o;function s(h,g,C){g&&!("byKey"in g)&&(C=g,g=null),Array.isArray(h)||(h=[h]);var B=h.map(function(y){return l(y,g)}),E=function(v){return B.some(function(S){return c(S,v)})},A=C==null?E:E(C);return A}function a(h,g){return s(h,g)}function u(h,g){return s(h,{byKey:!0},g)}function l(h,g){var C=g&&g.byKey,B={};h=h.replace("++","+add");var E=h.split("+"),A=E.length;for(var y in t)B[t[y]]=!1;var v=!0,S=!1,b=void 0;try{for(var _=E[Symbol.iterator](),G;!(v=(G=_.next()).done);v=!0){var I=G.value,ae=I.endsWith("?")&&I.length>1;ae&&(I=I.slice(0,-1));var P=p(I),z=t[P];if(I.length>1&&!z&&!n[I]&&!r[P])throw new TypeError('Unknown modifier: "'+I+'"');(A===1||!z)&&(C?B.key=P:B.which=f(I)),z&&(B[z]=ae?null:!0)}}catch(T){S=!0,b=T}finally{try{!v&&_.return&&_.return()}finally{if(S)throw b}}return B}function c(h,g){for(var C in h){var B=h[C],E=void 0;if(B!=null&&(C==="key"&&g.key!=null?E=g.key.toLowerCase():C==="which"?E=B===91&&g.which===93?91:g.which:E=g[C],!(E==null&&B===!1)&&E!==B))return!1}return!0}function f(h){h=p(h);var g=r[h]||h.toUpperCase().charCodeAt(0);return g}function p(h){return h=h.toLowerCase(),h=n[h]||h,h}return fe.default=s,fe.isHotkey=s,fe.isCodeHotkey=a,fe.isKeyHotkey=u,fe.parseHotkey=l,fe.compareHotkey=c,fe.toKeyCode=f,fe.toKeyName=p,fe}var gt=Wc();const xl=jc(gt),Hc={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},zc={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Vc={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},X=e=>{const t=Hc[e],n=zc[e],r=Vc[e],o=t&&gt.isHotkey(t),s=n&&gt.isHotkey(n),a=r&&gt.isHotkey(r);return u=>!!(o&&o(u)||Fn&&s&&s(u)||!Fn&&a&&a(u))},J={isBold:X("bold"),isCompose:X("compose"),isMoveBackward:X("moveBackward"),isMoveForward:X("moveForward"),isDeleteBackward:X("deleteBackward"),isDeleteForward:X("deleteForward"),isDeleteLineBackward:X("deleteLineBackward"),isDeleteLineForward:X("deleteLineForward"),isDeleteWordBackward:X("deleteWordBackward"),isDeleteWordForward:X("deleteWordForward"),isExtendBackward:X("extendBackward"),isExtendForward:X("extendForward"),isExtendLineBackward:X("extendLineBackward"),isExtendLineForward:X("extendLineForward"),isItalic:X("italic"),isMoveLineBackward:X("moveLineBackward"),isMoveLineForward:X("moveLineForward"),isMoveWordBackward:X("moveWordBackward"),isMoveWordForward:X("moveWordForward"),isRedo:X("redo"),isSoftBreak:X("insertSoftBreak"),isSplitBlock:X("splitBlock"),isTransposeCharacter:X("transposeCharacter"),isUndo:X("undo")},Tn=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Nn=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Tt=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return Nn(n.overflowY,t)||Nn(n.overflowX,t)||(r=>{const o=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},dt=(e,t,n,r,o,s,a,u)=>s<e&&a>t||s>e&&a<t?0:s<=e&&u<=n||a>=t&&u>=n?s-e-r:a>t&&u<n||s<e&&u>n?a-t+o:0,Uc=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Sn=(e,t)=>{var n,r,o,s;if(typeof document>"u")return[];const{scrollMode:a,block:u,inline:l,boundary:c,skipOverflowHiddenElements:f}=t,p=typeof c=="function"?c:pe=>pe!==c;if(!Tn(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,g=[];let C=e;for(;Tn(C)&&p(C);){if(C=Uc(C),C===h){g.push(C);break}C!=null&&C===document.body&&Tt(C)&&!Tt(document.documentElement)||C!=null&&Tt(C,f)&&g.push(C)}const B=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,E=(s=(o=window.visualViewport)==null?void 0:o.height)!=null?s:innerHeight,{scrollX:A,scrollY:y}=window,{height:v,width:S,top:b,right:_,bottom:G,left:I}=e.getBoundingClientRect(),{top:ae,right:P,bottom:z,left:T}=(pe=>{const V=window.getComputedStyle(pe);return{top:parseFloat(V.scrollMarginTop)||0,right:parseFloat(V.scrollMarginRight)||0,bottom:parseFloat(V.scrollMarginBottom)||0,left:parseFloat(V.scrollMarginLeft)||0}})(e);let $=u==="start"||u==="nearest"?b-ae:u==="end"?G+z:b+v/2-ae+z,Y=l==="center"?I+S/2-T+P:l==="end"?_+P:I-T;const qe=[];for(let pe=0;pe<g.length;pe++){const V=g[pe],{height:Te,width:Ne,top:Se,right:Ge,bottom:Ye,left:Re}=V.getBoundingClientRect();if(a==="if-needed"&&b>=0&&I>=0&&G<=E&&_<=B&&b>=Se&&G<=Ye&&I>=Re&&_<=Ge)return qe;const _e=getComputedStyle(V),m=parseInt(_e.borderLeftWidth,10),k=parseInt(_e.borderTopWidth,10),O=parseInt(_e.borderRightWidth,10),L=parseInt(_e.borderBottomWidth,10);let M=0,U=0;const W="offsetWidth"in V?V.offsetWidth-V.clientWidth-m-O:0,j="offsetHeight"in V?V.offsetHeight-V.clientHeight-k-L:0,ee="offsetWidth"in V?V.offsetWidth===0?0:Ne/V.offsetWidth:0,te="offsetHeight"in V?V.offsetHeight===0?0:Te/V.offsetHeight:0;if(h===V)M=u==="start"?$:u==="end"?$-E:u==="nearest"?dt(y,y+E,E,k,L,y+$,y+$+v,v):$-E/2,U=l==="start"?Y:l==="center"?Y-B/2:l==="end"?Y-B:dt(A,A+B,B,m,O,A+Y,A+Y+S,S),M=Math.max(0,M+y),U=Math.max(0,U+A);else{M=u==="start"?$-Se-k:u==="end"?$-Ye+L+j:u==="nearest"?dt(Se,Ye,Te,k,L+j,$,$+v,v):$-(Se+Te/2)+j/2,U=l==="start"?Y-Re-m:l==="center"?Y-(Re+Ne/2)+W/2:l==="end"?Y-Ge+O+W:dt(Re,Ge,Ne,m,O+W,Y,Y+S,S);const{scrollLeft:re,scrollTop:ge}=V;M=te===0?0:Math.max(0,Math.min(ge+M/te,V.scrollHeight-Te/te+j)),U=ee===0?0:Math.max(0,Math.min(re+U/ee,V.scrollWidth-Ne/ee+W)),$+=ge-M,Y+=re-U}qe.push({el:V,top:M,left:U})}return qe},Kc=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function qc(e,t){if(!e.isConnected||!(o=>{let s=o;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;const n=(o=>{const s=window.getComputedStyle(o);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(Sn(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:s,left:a}of Sn(e,Kc(t))){const u=s-n.top+n.bottom,l=a-n.left+n.right;o.scroll({top:u,left:l,behavior:r})}}const ie=(e,t)=>{if(!t)return!1;e.stopImmediatePropagation();const n=t(e);return n??(e.defaultPrevented||!e.bubbles)},Rn=e=>we(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),Gc=(e,t)=>{if(!t)return!1;e.stopImmediatePropagation();const n=t(e);return n??e.defaultPrevented},_n=(e,t)=>{t.inputType==="historyUndo"&&"undo"in e&&typeof e.undo=="function"&&e.undo(),t.inputType==="historyRedo"&&"redo"in e&&typeof e.redo=="function"&&e.redo()},Yc=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&D.isCollapsed(e.selection))){const n=t.startContainer.parentElement,r=t.getBoundingClientRect();if(r.width===0&&r.height===0&&r.x===0&&r.y===0){const s=n.getBoundingClientRect();if(s.width>0||s.height>0)return}n.getBoundingClientRect=t.getBoundingClientRect.bind(t),qc(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Xc=({element:e,attributes:t,children:n,editor:r})=>{const o=r?.isInline(e)?"span":"div";return Q(o,{...t,style:{position:"relative"}},n)},Jc=({attributes:e,children:t})=>Q("span",e,t),Zc=({attributes:e,children:t})=>Q("span",e,t),Qc=({children:e})=>e,el=({attributes:e,children:t})=>Q("span",e,[t,le?Q("br"):void 0]),xs=()=>[],vl=Ae({name:"slate-editor",emits:["change","selectionchange","valuechange"],props:{editor:{type:Object,require:!0},decorate:{type:Function,default:xs},renderElement:{type:Function,default:Xc},renderLeaf:{type:Function,default:Jc},renderText:{type:Function,default:Zc},renderChunk:{type:Function,default:Qc},renderPlaceholder:{type:Function,default:el}},setup(e,{slots:t,emit:n}){const{editor:r,decorate:o,renderElement:s,renderLeaf:a,renderPlaceholder:u,renderText:l,renderChunk:c}=e;if(!x.isNodeList(r.children))throw new Error(`[Slate] initialValue is invalid! Expected a list of elements but got: ${se.stringify(r.children)}`);ne(In,r),ne(Un,o),ne($n,s),ne(jn,a),ne(Hn,l),ne(Wn,u),ne(zn,c);const f=ce(w.isFocused(r)),p=Z(()=>r.selection);ne($s,f),ne(Ln,ce(!1)),ne(Mn,ce(!1)),ne(js,p);const h=()=>f.value=w.isFocused(r),g=ce(0);ne(Kn,g);const C=Z(()=>{if(r.selection&&D.isCollapsed(r.selection)&&r.marks){const B=r.selection.anchor,E=x.leaf(r,B.path),{text:A,...y}=E;if(!R.equals(E,r.marks,{loose:!0})){const v=Object.fromEntries(Object.keys(y).map(S=>[S,null]));return{[Fs]:!0,...v,...r.marks,anchor:B,focus:B}}}return null});return ne(qn,C),at(()=>{document.addEventListener("focusin",h),document.addEventListener("focusout",h),It.set(r,B=>{switch(n("change",B),g.value++,B?.operation?.type){case"set_selection":n("selectionchange",B);break;default:n("valuechange",B)}})}),Ct(()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",h),It.delete(r)}),()=>Os(t,"default")}}),vs="֑-߿יִ-﷽ﹰ-ﻼ",ks="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",tl=new RegExp("^[^"+ks+"]*["+vs+"]"),nl=new RegExp("^[^"+vs+"]*["+ks+"]");function Ts(e){const t=String(e||"");return tl.test(t)?"rtl":nl.test(t)?"ltr":"neutral"}const sl=()=>{const e=ue(Un);if(e===void 0)throw new Error("The `useDecorate` hook must be used inside the <Slate> component's context.");return e},Ke=()=>{const e=ue(In);if(e===void 0)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e},Pn=Ae({name:"slate-string",props:["leaf","text","element","isLast"],setup(e){const{leaf:t,text:n,element:r,isLast:o}=e,s=Ke(),a=Z(()=>{const c=t.text;return(c??"")+(o&&c.at(-1)===`
`?`
`:"")}),u=Z(()=>{const c=d.parent(w.findPath(s,n));return t.text===""&&r.children.at(-1)===n&&!s.isInline(r)&&i.string(s,c)===""}),l=Z(()=>{const c=x.string(r).length||0,f=!!t[Fs]||!1;return s.isVoid(r)||u.value||t.text===""?{"data-slate-zero-width":u.value?"n":"z","data-slate-length":c,"data-slate-mark-placeholder":f?!0:void 0}:null});return()=>l.value?Q("span",l.value,[!le||!u.value?"\uFEFF":null,!me&&u.value?Q("br"):null]):Q("span",{"data-slate-string":!0},a.value)}}),rl=()=>{const e=ue($n);if(e===void 0)throw new Error("The `useRenderElement` hook must be used inside the <Slate> component's context.");return e},ol=()=>{const e=ue(jn);if(e===void 0)throw new Error("The `useRenderLeaf` hook must be used inside the <Slate> component's context.");return e},al=()=>{const e=ue(Wn);if(e===void 0)throw new Error("The `useRenderPlaceholder` hook must be used inside the <Slate> component's context.");return e},il=()=>{const e=ue(Hn);if(e===void 0)throw new Error("The `useRenderText` hook must be used inside the <Slate> component's context.");return e},ul=()=>{const e=ue(zn);if(e===void 0)throw new Error("The `useRenderChunk` hook must be used inside the <Slate> component's context.");return e},cl=()=>{const e=ue(Vn);if(e===void 0)throw new Error("The `useStaticChunk` hook must be used inside the <Slate> component's context.");return e},ll=e=>{const t=ue(Kn);if(t===void 0)throw new Error("The `useChangeEffect` hook must be used inside the <Slate> component's context.");return Mt(()=>t.value,e),t},fl=()=>{const e=ue(qn);if(e===void 0)throw new Error("The `useMarkPlaceholder` hook must be used inside the <Slate> component's context.");return e},dl=()=>{const e=ue(Gn);if(e===void 0)throw new Error("The `usePlaceholder` hook must be used inside the <Slate> component's context.");return e},hl=()=>{const e=ue(Yn);if(e===void 0)throw new Error("The `usePlaceholderShow` hook must be used inside the <Slate> component's context.");return e},pl=()=>{const e=ue(Xn);if(e===void 0)throw new Error("The `usePlaceholderResize` hook must be used inside the <Slate> component's context.");return e},gl={position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:ye?"inherit":void 0},Cl=Ae({name:"slate-placeholder",setup(){const e=dl(),t=pl(),n=ce(),r=Z(()=>({"data-slate-placeholder":!0,style:gl,contenteditable:!1,onVnodeMounted(s){s.el&&(n.value=new ResizeObserver(()=>{t(s.el?.getBoundingClientRect()?.height)}),n.value.observe(s.el))},onVnodeUnmounted(){n.value?.disconnect(),n.value=void 0,t()}})),o=al();return()=>o({children:e.value,attributes:r.value})}}),Ns=Ae({name:"slate-text",props:["text","element"],setup(e){const{text:t,element:n}=e,r=Ke(),o=ce(),s=sl(),a=fl(),u=Z(()=>{if(s===xs)return[{leaf:t}];const h=w.findPath(r,n),g=w.findPath(r,t),C=s([t,g]),B=s([n,h]),E=i.range(r,g);B.forEach(y=>{C.push(D.intersection(y,E))}),a.value&&C.unshift(a.value);const A=C.filter(Boolean);return R.decorations(t,A.length?A:[])});at(()=>{const h=w.findKey(r,t);o.value&&(bt.get(r)?.set(h,o.value),ct.set(o.value,t),He.set(t,o.value))}),Ct(()=>{He.delete(t),o.value&&ct.delete(o.value)});const l=Z(()=>i.isVoid(r,n)||!N.isElement(n)||r.isInline(n)||!i.hasInlines(r,n)?!1:Fe.get(t)===n.children.length-1),c=ol(),f=il(),p=hl();return()=>f({text:t,attributes:{"data-slate-node":"text",ref:o},children:$t(u.value,(h,g)=>c({text:t,leaf:h.leaf,leafPosition:h.position,attributes:{"data-slate-leaf":!0},children:p.value?[Q(Pn,{text:t,element:n,leaf:h.leaf,isLast:!0,key:w.findKey(r,h.leaf).id}),Q(Cl)]:Q(Pn,{text:t,element:n,leaf:h.leaf,isLast:l.value&&g===u.value.length-1,key:w.findKey(r,h.leaf).id})}))})}}),Ss=()=>{const e=ue(Mn);if(e===void 0)throw new Error("The `useFocused` hook must be used inside the <Slate> component's context.");return e},ml={"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Rs=Ae({name:"slate-element",props:["element"],setup(e){const t=e.element,n=Ke();ne(Ms,Z(()=>t));const r=ce(null);Mt(()=>r.value,c=>{const f=w.findKey(n,t),p=bt.get(n);c?(p?.set(f,c),He.set(t,c),ct.set(c,t)):(p?.delete(f),He.delete(t))});const o=Z(()=>n.isInline(t)),s=Ss(),a=Z(()=>{const c={"data-slate-node":"element",ref:r};if(o.value)c["data-slate-inline"]=!0;else if(i.hasInlines(n,t)){const f=x.string(t),p=Ts(f);p==="rtl"&&(c.dir=p)}return i.isVoid(n,t)&&(c["data-slate-void"]=!0,!s&&o.value&&(c.contenteditable=!1)),c}),u=Z(()=>{if(!i.isVoid(n,t))return Q(Ps,{element:t});const[[c]]=x.texts(t);Fe.set(c,0),st.set(c,t);const f=o.value?"span":"div";return Q(f,ml,Q(Ns,{element:t,text:c}))});me&&Is(()=>{const c=r.value?.childNodes;if(!c?.length)return;const f=c.length-1;c[f].nodeType===3&&c[f].textContent!==""&&(c[f].textContent="")});const l=rl();return()=>l({attributes:a.value,children:u.value,element:t,editor:n})}}),_s=Ae({name:"slate-chunk",props:["ancestor"],setup(e){const t=e.ancestor,n=cl(),r=ul();return()=>$t(t.children,o=>o.type==="chunk"?r({highest:n===t,lowest:o.children.some(s=>s.type==="leaf"),attributes:{"data-slate-chunk":!0},children:Q(_s,{ancestor:o,key:o.key.id})}):Q(Rs,{element:o.node,key:o.key.id}))}}),Ps=Ae({name:"slate-children",props:["element"],setup(e){const t=Ke(),n=e.element,r=Z(()=>!i.isEditor(n)&&N.isElement(n)&&!t.isInline(n)),o=Z(()=>i.hasInlines(t,n)?null:t.getChunkSize(n)),s=bs(t,e.element),a=Z(()=>o.value?(Oc(t,{chunkTree:s,chunkSize:o.value,onInsert:(u,l)=>{Fe.set(u,l),st.set(u,n)},onUpdate:(u,l)=>{Fe.set(u,l),st.set(u,n)},onIndexChange:(u,l)=>{Fe.set(u,l)}}),s):null);return ne(Vn,s),()=>o.value===null||r.value?$t(n.children,(u,l)=>{Fe.set(u,l),st.set(u,n);const c=w.findKey(t,u);return R.isText(u)?Q(Ns,{text:u,element:n,key:c.id}):Q(Rs,{element:u,key:c.id})}):Q(_s,{ancestor:a.value})}}),Bl=()=>{const e=ue(Ln);if(e===void 0)throw new Error("The `useFocused` hook must be used inside the <Slate> component's context.");return e},El={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0},Dl=e=>{const t=Ke(),n=ce(),r=ce();let o=!1;at(()=>{n.value=new MutationObserver(l=>{n.value?.disconnect(),n.value?.takeRecords(),l.reverse().forEach(c=>{c.type!=="characterData"&&(c.removedNodes.forEach(f=>{c.target.insertBefore(f,c.nextSibling)}),c.addedNodes.forEach(f=>{c.target.removeChild(f)}))}),r.value?.(),r.value=void 0})});const s=(l,c)=>{o=!1,r.value=l},a=(l,c)=>{const f=x.leaf(t,l),p=$c(f.text,c);p&&s(()=>{p.start!==p.end&&(p.text?i.deleteBackward(t,{unit:"word"}):i.deleteBackward(t,{unit:"character"})),i.insertText(t,p.text)})};return{handleDOMBeforeInput:l=>{n.value?.observe(e.value,El);const{inputType:c}=l;let f=null;const p=l.dataTransfer||l.data||void 0;o!==!1&&c!=="insertText"&&c!=="insertCompositionText"&&(o=!1);let[h]=l.getTargetRanges();h&&(f=w.toSlateRange(t,h,{exactMatch:!1,suppressThrow:!0}));const C=w.getWindow(t).getSelection();if(!f&&C&&(h=C,f=w.toSlateRange(t,C,{exactMatch:!1,suppressThrow:!0})),f=f??t.selection,!f)return;let B=!0;if(c.startsWith("delete")){const E=c.endsWith("Backward")?"backward":"forward";let[A,y]=D.edges(f),[v,S]=i.leaf(t,A.path);if(D.isExpanded(f)&&v.text.length===A.offset&&y.offset===0){const I=i.next(t,{at:A.path,match:R.isText});I&&d.equals(I[1],y.path)&&(E==="backward"?(f={anchor:y,focus:y},A=y,[v,S]=I):(f={anchor:A,focus:A},y=A))}const _=[{text:"",start:A.offset,end:y.offset}];if(Ic(v.text,..._).length===0&&(B=!1),D.isExpanded(f)){if(B&&d.equals(f.anchor.path,f.focus.path)){const I={path:f.anchor.path,offset:A.offset};return i.range(t,I,I),a(f.anchor.path,{text:"",end:y.offset,start:A.offset})}return s(()=>F.delete(t,{at:f,reverse:E==="backward"}))}}switch(c){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return s(()=>i.deleteFragment(t));case"deleteContent":case"deleteContentForward":{const{anchor:E}=f;if(B&&D.isCollapsed(f)){const A=x.leaf(t,E.path);if(E.offset<A.text.length)return a(E.path,{text:"",start:E.offset,end:E.offset+1})}return s(()=>i.deleteForward(t))}case"deleteContentBackward":{const{anchor:E}=f,A=Pt(h)?h.isCollapsed:!!h?.collapsed;return B&&A&&D.isCollapsed(f)&&E.offset>0?a(E.path,{text:"",start:E.offset-1,end:E.offset}):s(()=>i.deleteBackward(t))}case"deleteEntireSoftLine":return s(()=>{i.deleteBackward(t,{unit:"line"}),i.deleteForward(t,{unit:"line"})});case"deleteHardLineBackward":return s(()=>i.deleteBackward(t,{unit:"block"}));case"deleteSoftLineBackward":return s(()=>i.deleteBackward(t,{unit:"line"}));case"deleteHardLineForward":return s(()=>i.deleteForward(t,{unit:"block"}));case"deleteSoftLineForward":return s(()=>i.deleteForward(t,{unit:"line"}));case"deleteWordBackward":return s(()=>i.deleteBackward(t,{unit:"word"}));case"deleteWordForward":return s(()=>i.deleteForward(t,{unit:"word"}));case"insertLineBreak":return s(()=>i.insertSoftBreak(t));case"insertParagraph":return s(()=>i.insertBreak(t));case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(p instanceof DataTransfer)return s(()=>w.insertData(t,p));let E=p??"";if(c==="insertText"&&/.*\n.*\n$/.test(E)&&(E=E.slice(0,-1)),E.includes(`
`))return s(()=>{const A=E.split(`
`);A.forEach((y,v)=>{y&&i.insertText(t,y),v!==A.length-1&&i.insertSoftBreak(t)})});if(d.equals(f.anchor.path,f.focus.path)){const[A,y]=D.edges(f),v={start:A.offset,end:y.offset,text:E};if(E&&o&&c==="insertCompositionText"){const S=o.start+o.text.search(/\S|$/);v.start+v.text.search(/\S|$/)===S+1&&v.end===o.start+o.text.length?(v.start-=1,o=null):o=!1}else c==="insertText"?o===null?o=v:o&&D.isCollapsed(f)&&o.end+o.text.length===A.offset?o={...o,text:o.text+E}:o=!1:o=!1;if(B){a(A.path,v);return}}return s(()=>i.insertText(t,E))}}}}},kl=Ae({name:"slate-editable",props:{scrollSelectionIntoView:{type:Function,default:Yc},placeholder:{type:String,default:()=>""},readOnly:{type:Boolean,default:()=>!1},autoFocus:{type:Boolean,default:()=>!1}},setup(e){const{placeholder:t,readOnly:n,scrollSelectionIntoView:r,autoFocus:o}=e,s=Ke(),a=Ls(),u=Bl(),l=Ss();Mt(()=>n,m=>{Ot.set(s,m),l.value=m});const c=On({isDraggingInternally:!1,latestElement:null}),f=ce(),p=m=>f.value=m,h=ce(!1),g=m=>{const k=m?.target,L=(k instanceof HTMLElement?k:null)?.tagName;if(L==="INPUT"||L==="TEXTAREA")return;const U=w.toDOMNode(s,s).getRootNode();if(!h.value&&ye&&U instanceof ShadowRoot){h.value=!0,yc()?document.execCommand("indent"):F.deselect(s);return}if((le||!w.isComposing(s))&&!c.isDraggingInternally){const W=w.findDocumentOrShadowRoot(s),{activeElement:j}=W,ee=w.toDOMNode(s,s),te=$e(W);if(j===ee?(c.latestElement=j,De.set(s,!0)):De.delete(s),!te)return F.deselect(s);const{anchorNode:re,focusNode:ge}=te,Pe=w.hasEditableTarget(s,re)||w.isTargetInsideNonReadonlyVoid(s,re),Xe=w.hasTarget(s,ge);if(Pe&&Xe){const Ee=w.toSlateRange(s,te,{exactMatch:!1,suppressThrow:!0});Ee&&!w.isComposing(s)&&F.select(s,Ee)}n&&(!Pe||!Xe)&&F.deselect(s)}},C=ce(),B=ce();le&&(B.value=Dl(C)),at(()=>{let m;C.value&&(m=Kt(C.value))&&(ys.set(s,m),rt.set(s,C.value),He.set(s,C.value),ct.set(C.value,s))}),Ct(()=>{rt.delete(s),He.delete(s)});const E=Z(()=>{if(s.selection&&D.isCollapsed(s.selection)&&s.marks){const m=s.selection.anchor,k=x.leaf(s,m.path);if(!R.equals(k,s.marks,{loose:!0}))return!0}return!1}),A=()=>{const m=w.findDocumentOrShadowRoot(s),k=$e(m);if(!k)return;const O=k.type!=="None";if(!s.selection&&!O)return;const L=k.focusNode;let M;if(me&&k.rangeCount>1){const ee=k.getRangeAt(0),te=k.getRangeAt(k.rangeCount-1);ee.startContainer===L?M=te.endContainer:M=ee.startContainer}else M=k.anchorNode;const U=rt.get(s);let W=!1;if(U.contains(M)&&U.contains(L)&&(W=!0),O&&W&&s.selection){const ee=w.toSlateRange(s,k,{exactMatch:!0,suppressThrow:!0});if(ee&&D.equals(ee,s.selection)&&(!E.value||M?.parentElement?.hasAttribute("data-slate-mark-placeholder")))return}if(s.selection&&!w.hasRange(s,s.selection)){s.selection=w.toSlateRange(s,k,{exactMatch:!1,suppressThrow:!0});return}let j=null;try{j=s.selection&&w.toDOMRange(s,s.selection)}catch{}return j?(w.isComposing(s)&&!le?k.collapseToEnd():D.isBackward(s.selection)?k.setBaseAndExtent(j.endContainer,j.endOffset,j.startContainer,j.startOffset):k.setBaseAndExtent(j.startContainer,j.startOffset,j.endContainer,j.endOffset),r(s,j)):k.removeAllRanges(),j};ll(()=>{const m=w.findDocumentOrShadowRoot(s),k=$e(m);!k||!w.isFocused(s)||k.rangeCount<=1&&A()});const y=()=>c.isDraggingInternally=!1;at(()=>{const m=w.getWindow(s);m.document.addEventListener("selectionchange",g),m.document.addEventListener("dragend",y),m.document.addEventListener("drop",y),o&&C.value?.focus()}),Ct(()=>{const m=w.getWindow(s);m.document.removeEventListener("selectionchange",g),m.document.removeEventListener("dragend",y),m.document.removeEventListener("drop",y)});const v=ce([]),S=m=>{if(Oe){_n(s,m);const O=w.toDOMNode(s,s).getRootNode();if(h.value&&ye&&O instanceof ShadowRoot){const M=m.getTargetRanges()[0],U=new window.Range;let W=M.endContainer;const j=M.endOffset;for(W.nodeType===3&&W.textContent===""&&W.previousSibling&&(W=W.previousSibling);W instanceof HTMLElement&&!W.attributes.getNamedItem("data-slate-string")&&W.lastElementChild;)W=W.lastElementChild;W instanceof HTMLElement&&W.attributes.getNamedItem("data-slate-string")&&W.lastChild&&(W=W.lastChild),U.setStart(M.startContainer,M.startOffset),U.setEnd(W,j);const ee=w.toSlateRange(s,U,{exactMatch:!1,suppressThrow:!1});F.select(s,ee),h.value=!1,m.preventDefault(),m.stopImmediatePropagation();return}if(!n&&w.hasEditableTarget(s,m.target)&&!Gc(m,a.onBeforeinput)){if(le)return B.value?.handleDOMBeforeInput(m);const{selection:L}=s,{inputType:M}=m,U=m.dataTransfer||m.data||void 0,W=M==="insertCompositionText"||M==="deleteCompositionText";if(W&&w.isComposing(s))return;let j=!1;if(M==="insertText"&&L&&D.isCollapsed(L)&&m.data&&m.data.length===1&&/[a-z ]/i.test(m.data)&&L.anchor.offset!==0){j=!0,s.marks&&(j=!1);const{anchor:te}=L,[re,ge]=w.toDOMPoint(s,te),Pe=re.parentElement?.closest("a"),Xe=w.getWindow(s);if(j&&Pe&&w.hasDOMNode(s,Pe)){const Ee=Xe?.document.createTreeWalker(Pe,NodeFilter.SHOW_TEXT).lastChild();Ee===re&&Ee.textContent?.length===ge&&(j=!1)}if(j&&re.parentElement&&Xe?.getComputedStyle(re.parentElement)?.whiteSpace==="pre"){const Ee=i.above(s,{at:te.path,match:Gt=>N.isElement(Gt)&&i.isBlock(s,Gt)});Ee&&x.string(Ee[0]).includes("	")&&(j=!1)}}if(!M.startsWith("delete")||M.startsWith("deleteBy")){const[te]=m.getTargetRanges();if(te){const re=w.toSlateRange(s,te,{exactMatch:!1,suppressThrow:!1});if(!L||!D.equals(L,re)){j=!1;const ge=!W&&s.selection&&i.rangeRef(s,s.selection);F.select(s,re),ge&&ot.set(s,ge)}}}if(W)return;if(j||m.preventDefault(),L&&D.isExpanded(L)&&M.startsWith("delete")){const te=M.endsWith("Backward")?"backward":"forward";i.deleteFragment(s,{direction:te});return}switch(M){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{i.deleteFragment(s);break}case"deleteContent":case"deleteContentForward":{i.deleteForward(s);break}case"deleteContentBackward":{i.deleteBackward(s);break}case"deleteEntireSoftLine":{i.deleteBackward(s,{unit:"line"}),i.deleteForward(s,{unit:"line"});break}case"deleteHardLineBackward":{i.deleteBackward(s,{unit:"block"});break}case"deleteSoftLineBackward":{i.deleteBackward(s,{unit:"line"});break}case"deleteHardLineForward":{i.deleteForward(s,{unit:"block"});break}case"deleteSoftLineForward":{i.deleteForward(s,{unit:"line"});break}case"deleteWordBackward":{i.deleteBackward(s,{unit:"word"});break}case"deleteWordForward":{i.deleteForward(s,{unit:"word"});break}case"insertLineBreak":i.insertSoftBreak(s);break;case"insertParagraph":{i.insertBreak(s);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{M==="insertFromComposition"&&w.isComposing(s)&&(u.value=!1,Le.set(s,!1)),U?.constructor.name==="DataTransfer"?w.insertData(s,U):typeof U=="string"&&(j?v.value.push(()=>i.insertText(s,U)):i.insertText(s,U));break}}const ee=ot.get(s)?.unref();ot.delete(s),ee&&(!s.selection||!D.equals(s.selection,ee))&&F.select(s,ee)}}else if(!n&&!ie(m,a.onBeforeinput)&&w.hasSelectableTarget(s,m.target)&&(m.preventDefault(),!w.isComposing(s))){const k=m.data;i.insertText(s,k)}},b=m=>{if(!(le||ie(m,a.onInput))){for(const k of v.value)k();v.value=[],w.isFocused(s)||_n(s,m)}},_=m=>{if(n||!w.hasSelectableTarget(s,m.target)||ie(m,a.onBlur))return;const k=w.findDocumentOrShadowRoot(s);if(c.latestElement===k.activeElement)return;const{relatedTarget:O}=m,L=w.toDOMNode(s,s);if(O!==L&&!(de(O)&&O.hasAttribute("data-slate-spacer"))){if(O!=null&&we(O)&&w.hasDOMNode(s,O)){const M=w.toSlateNode(s,O);if(N.isElement(M)&&!s.isVoid(M))return}ye&&$e(k)?.removeAllRanges(),De.delete(s)}},G=m=>{if(w.hasTarget(s,m.target)&&!ie(m,a.onClick)&&we(m.target)){const k=w.toSlateNode(s,m.target),O=w.findPath(s,k);if(!i.hasPath(s,O)||Qe(x.get(s,O))!==k)return;if(m.detail===3&&O.length>=1){let j=O;N.isElement(k)&&i.isBlock(s,k)||(j=i.above(s,{match:re=>N.isElement(re)&&i.isBlock(s,re),at:O})?.[1]??O.slice(0,1));const ee=i.range(s,j);F.select(s,ee);return}if(n)return;const L=i.start(s,O),M=i.end(s,O),U=i.void(s,{at:L}),W=i.void(s,{at:M});if(U&&W&&d.equals(U[1],W[1])){const j=i.range(s,L);F.select(s,j)}}},I=m=>{if(w.hasSelectableTarget(s,m.target)&&(w.isComposing(s)&&(u.value=!1,Le.set(s,!1)),!(le||ie(m,a.onCompositionend))&&!ye&&!kc&&!bc&&!Nc&&!Tc&&m.data)){i.insertText(s,m.data);const k=Dt.get(s);Dt.delete(s),k!==void 0&&(s.marks=k)}},ae=m=>{ie(m,a.onCompositionupdate)||w.hasSelectableTarget(s,m.target)&&(w.isComposing(s)||(u.value=!0,Le.set(s,!0)))},P=m=>{if(w.hasSelectableTarget(s,m.target)){if(u.value=!0,Le.set(s,!0),le||ie(m,a.onCompositionstart))return;const{selection:k}=s;if(k&&D.isExpanded(k)){i.deleteFragment(s);return}}},z=m=>{w.hasSelectableTarget(s,m.target)&&!ie(m,a.onCopy)&&!Rn(m)&&(m.preventDefault(),m.clipboardData&&w.setFragmentData(s,m.clipboardData,"copy"))},T=m=>{if(!n&&w.hasSelectableTarget(s,m.target)&&!ie(m,a.onCut)&&!Rn(m)){m.preventDefault(),m.clipboardData&&w.setFragmentData(s,m.clipboardData,"cut");const k=s.selection;if(k)if(D.isExpanded(k))i.deleteFragment(s);else{const O=x.parent(s,k.anchor.path);i.isVoid(s,O)&&F.delete(s)}}},$=m=>{if(w.hasTarget(s,m.target)&&!ie(m,a.onDragover)){const k=w.toSlateNode(s,m.target);N.isElement(k)&&i.isVoid(s,k)&&m.preventDefault()}},Y=m=>{if(!n&&w.hasTarget(s,m.target)&&!ie(m,a.onDragstart)){const k=w.toSlateNode(s,m.target),O=w.findPath(s,k);if(N.isElement(k)&&i.isVoid(s,k)||i.void(s,{at:O,voids:!0})){const M=i.range(s,O);F.select(s,M)}c.isDraggingInternally=!0,m.dataTransfer&&w.setFragmentData(s,m.dataTransfer,"drag")}},qe=m=>{if(!n&&w.hasTarget(s,m.target)&&!ie(m,a.onDrop)){m.preventDefault();const k=s.selection,O=w.findEventRange(s,m),L=m.dataTransfer;F.select(s,O),c.isDraggingInternally&&k&&!D.equals(k,O)&&!i.void(s,{at:O,voids:!0})&&F.delete(s,{at:k}),L&&w.insertData(s,L),w.isFocused(s)||w.focus(s)}},pe=m=>{!n&&c.isDraggingInternally&&a.onDragend&&w.hasTarget(s,m.target)&&a.onDragend(m)},V=m=>{if(!n&&w.hasEditableTarget(s,m.target)&&!ie(m,a.onFocus)){const k=w.toDOMNode(s,s),O=w.findDocumentOrShadowRoot(s);if(c.latestElement=O.activeElement,me&&m.target!==k){k.focus();return}De.set(s,!0)}},Te=m=>{if(!n&&w.hasEditableTarget(s,m.target)){if(w.isComposing(s)&&m.isComposing===!1&&(Le.set(s,!1),u.value=!1),ie(m,a.onKeydown)||w.isComposing(s))return;const k=s.children[s.selection!==null?s.selection.focus.path[0]:0],O=Ts(x.string(k))==="rtl";if(J.isRedo(m)){m.preventDefault();const L=s;typeof L.redo=="function"&&L.redo();return}if(J.isUndo(m)){m.preventDefault();const L=s;typeof L.undo=="function"&&L.undo();return}if(J.isMoveLineBackward(m)){m.preventDefault(),F.move(s,{unit:"line",reverse:!0});return}if(J.isMoveLineForward(m)){m.preventDefault(),F.move(s,{unit:"line"});return}if(J.isExtendLineBackward(m)){m.preventDefault(),F.move(s,{unit:"line",edge:"focus",reverse:!0});return}if(J.isExtendLineForward(m)){m.preventDefault(),F.move(s,{unit:"line",edge:"focus"});return}if(J.isMoveBackward(m)){m.preventDefault(),s.selection&&D.isCollapsed(s.selection)?F.move(s,{reverse:!O}):F.collapse(s,{edge:O?"end":"start"});return}if(J.isMoveForward(m)){m.preventDefault(),s.selection&&D.isCollapsed(s.selection)?F.move(s,{reverse:O}):F.collapse(s,{edge:O?"start":"end"});return}if(J.isMoveWordBackward(m)){m.preventDefault(),s.selection&&D.isExpanded(s.selection)&&F.collapse(s,{edge:"focus"}),F.move(s,{unit:"word",reverse:!O});return}if(J.isMoveWordForward(m)){m.preventDefault(),s.selection&&D.isExpanded(s.selection)&&F.collapse(s,{edge:"focus"}),F.move(s,{unit:"word",reverse:O});return}if(Oe){if((qt||ye)&&s.selection&&(J.isDeleteBackward(m)||J.isDeleteForward(m))&&D.isCollapsed(s.selection)){const L=x.parent(s,s.selection.anchor.path);if(N.isElement(L)&&i.isVoid(s,L)&&(i.isInline(s,L)||i.isBlock(s,L))){m.preventDefault(),i.deleteBackward(s,{unit:"block"});return}}}else{if(J.isBold(m)||J.isItalic(m)||J.isTransposeCharacter(m)){m.preventDefault();return}if(J.isSoftBreak(m)){m.preventDefault(),i.insertSoftBreak(s);return}if(J.isSplitBlock(m)){m.preventDefault(),i.insertBreak(s);return}if(J.isDeleteBackward(m)){m.preventDefault(),s.selection&&D.isExpanded(s.selection)?i.deleteFragment(s,{direction:"backward"}):i.deleteBackward(s);return}if(J.isDeleteForward(m)){m.preventDefault(),s.selection&&D.isExpanded(s.selection)?i.deleteFragment(s,{direction:"forward"}):i.deleteForward(s);return}if(J.isDeleteLineBackward(m)){m.preventDefault(),s.selection&&D.isExpanded(s.selection)?i.deleteFragment(s,{direction:"backward"}):i.deleteBackward(s,{unit:"line"});return}if(J.isDeleteLineForward(m)){m.preventDefault(),s.selection&&D.isExpanded(s.selection)?i.deleteFragment(s,{direction:"forward"}):i.deleteForward(s,{unit:"line"});return}if(J.isDeleteWordBackward(m)){m.preventDefault(),s.selection&&D.isExpanded(s.selection)?i.deleteFragment(s,{direction:"backward"}):i.deleteBackward(s,{unit:"word"});return}if(J.isDeleteWordForward(m)){m.preventDefault(),s.selection&&D.isExpanded(s.selection)?i.deleteFragment(s,{direction:"forward"}):i.deleteForward(s,{unit:"word"});return}}}},Ne=m=>{!n&&w.hasEditableTarget(s,m.target)&&!ie(m,a.onPaste)&&(!Oe||mc(m)||ye)&&(m.preventDefault(),m.clipboardData&&w.insertData(s,m.clipboardData))},Se=Z(()=>({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word",minHeight:f.value?f.value+"px":"unset"})),Ge=Z(()=>Oe||!kt?a.spellcheck:!1),Ye=Z(()=>Oe||!kt?a.autocorrect:void 0),Re=Z(()=>Oe||!kt?a.autocapitalize:void 0),_e=Z(()=>t&&s.children?.length===1&&Array.from(x.texts(s)).length===1&&x.string(s)===""&&!u.value);return ne(Gn,Z(()=>t)),ne(Yn,_e),ne(Xn,p),()=>Q(a.is||"div",{role:n?void 0:"textbox","aria-multiline":n?void 0:!0,translate:"no","data-slate-editor":!0,"data-slate-node":"value",zindex:-1,spellcheck:Ge.value,autocorrect:Ye.value,autocapitalize:Re.value,contenteditable:!n,ref:C,style:Se.value,onBeforeinput:S,onInput:b,onBlur:_,onClick:G,onCompositionend:I,onCompositionupdate:ae,onCompositionstart:P,onCopy:z,onCut:T,onDragover:$,onDragstart:Y,onDrop:qe,onDragend:pe,onFocus:V,onKeydown:Te,onPaste:Ne},Q(Ps,{element:s}))}});export{w as D,i as E,Al as L,x as N,et as O,d as P,D as R,vl as S,F as T,N as a,kl as b,yl as c,R as d,Ss as e,H as f,jc as g,xl as h,oe as i,bl as j,$s as k,Ms as l,gt as m,Ft as t,Ke as u,Fl as w};
