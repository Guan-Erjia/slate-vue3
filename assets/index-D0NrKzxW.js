import{R as w,E as a,N as n,T as r,e as b,w as x,c as T,S as E,b as _}from"./editable-OBw7MXqz.js";import"./prism-markdown-6lEOFIKA.js";import{Q as q,d as v,f as B,w as N,e as g,o as C,a as S,h as O}from"./index-cO_khfoC.js";import{w as P}from"./with-history-Bo5zoz4N.js";const R={"*":"list-item","-":"list-item","+":"list-item",">":"block-quote","#":"heading-one","##":"heading-two","###":"heading-three","####":"heading-four","#####":"heading-five","######":"heading-six"},H=t=>{const{deleteBackward:u,insertText:c}=t;return t.insertText=async i=>{const{selection:s}=t;if(i.endsWith(" ")&&s&&w.isCollapsed(s)){const{anchor:o}=s,e=a.above(t,{match:p=>n.isElement(p)&&a.isBlock(t,p)}),y=e?e[1]:[],m=a.start(t,y),l={anchor:o,focus:m},h=a.string(t,l)+i.slice(0,-1),f=R[h];if(f){r.select(t,l),w.isCollapsed(l)||r.delete(t),await q();const p={type:f};if(r.setNodes(t,p,{match:d=>n.isElement(d)&&a.isBlock(t,d)}),f==="list-item"){const d={type:"bulleted-list",children:[]};r.wrapNodes(t,d,{match:k=>n.isElement(k)&&k.type==="list-item"})}return}}c(i)},t.deleteBackward=(...i)=>{const{selection:s}=t;if(s&&w.isCollapsed(s)){const o=a.above(t,{match:e=>n.isElement(e)&&a.isBlock(t,e)});if(o){const[e,y]=o,m=a.start(t,y);if(n.isElement(e)&&e.type!=="paragraph"&&b.equals(s.anchor,m)){const l={type:"paragraph"};r.setNodes(t,l),e.type==="list-item"&&r.unwrapNodes(t,{match:h=>n.isElement(h)&&h.type==="bulleted-list",split:!0});return}}u(...i)}},t},F=v({__name:"index",setup(t){const u=[{type:"paragraph",children:[{text:`The editor gives you full control over the logic you can add. For example, it's fairly common to want to add markdown-like shortcuts to editors. So that, when you start a line with "> " you get a blockquote that looks like this:`}]},{type:"block-quote",children:[{text:"A wise quote."}]},{type:"paragraph",children:[{text:'Order when you start a line with "## " you get a level-two heading, like this:'}]},{type:"heading-two",children:[{text:"Try it out!"}]},{type:"paragraph",children:[{text:'Try it out for yourself! Try starting a new line with ">", "-", or "#"s.'}]}],c=P(H(x(T())));c.children=u;const i=({attributes:s,children:o,element:e})=>O(e.type==="block-quote"?"blockquote":e.type==="bulleted-list"?"ul":e.type==="heading-one"?"h1":e.type==="heading-two"?"h2":e.type==="heading-three"?"h3":e.type==="heading-four"?"h4":e.type==="heading-five"?"h5":e.type==="heading-six"?"h6":e.type==="list-item"?"li":"p",s,o);return(s,o)=>(C(),B(g(E),{editor:g(c),"render-element":i},{default:N(()=>[S(g(_),{placeholder:"Write some markdown...",spellcheck:""})]),_:1},8,["editor"]))}});export{F as default};
